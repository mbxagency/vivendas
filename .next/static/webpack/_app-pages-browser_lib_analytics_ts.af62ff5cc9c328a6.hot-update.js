"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_lib_analytics_ts",{

/***/ "(app-pages-browser)/./lib/analytics.ts":
/*!**************************!*\
  !*** ./lib/analytics.ts ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\nclass Analytics {\n    generateSessionId() {\n        return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    }\n    getUserId() {\n        if (false) {}\n        let userId = localStorage.getItem(\"vivendas_user_id\");\n        if (!userId) {\n            userId = \"user_\" + Math.random().toString(36).substring(2, 15);\n            localStorage.setItem(\"vivendas_user_id\", userId);\n        }\n        return userId;\n    }\n    getPageInfo() {\n        if (false) {}\n        return {\n            page: window.location.pathname,\n            userAgent: navigator.userAgent,\n            referrer: document.referrer,\n            screenSize: \"\".concat(window.screen.width, \"x\").concat(window.screen.height),\n            location: this.getLocation()\n        };\n    }\n    getLocation() {\n        try {\n            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n            if (timezone.includes(\"America/Sao_Paulo\")) return \"Brasil - S\\xe3o Paulo\";\n            if (timezone.includes(\"America/Recife\")) return \"Brasil - Recife\";\n            if (timezone.includes(\"America/Fortaleza\")) return \"Brasil - Fortaleza\";\n            return \"Brasil - Outros\";\n        } catch (e) {\n            return \"Brasil - Desconhecido\";\n        }\n    }\n    getUTMParams() {\n        if (false) {}\n        const urlParams = new URLSearchParams(window.location.search);\n        return {\n            utmSource: urlParams.get(\"utm_source\") || undefined,\n            utmMedium: urlParams.get(\"utm_medium\") || undefined,\n            utmCampaign: urlParams.get(\"utm_campaign\") || undefined\n        };\n    }\n    getUserOrigin() {\n        if (false) {}\n        const referrer = document.referrer;\n        if (!referrer) return \"direct\";\n        if (referrer.includes(\"google.com\")) return \"Google\";\n        if (referrer.includes(\"facebook.com\")) return \"Facebook\";\n        if (referrer.includes(\"instagram.com\")) return \"Instagram\";\n        if (referrer.includes(\"whatsapp.com\")) return \"WhatsApp\";\n        if (referrer.includes(\"youtube.com\")) return \"YouTube\";\n        if (referrer.includes(\"linkedin.com\")) return \"LinkedIn\";\n        if (referrer.includes(\"twitter.com\")) return \"Twitter\";\n        if (referrer.includes(\"bing.com\")) return \"Bing\";\n        if (referrer.includes(\"yahoo.com\")) return \"Yahoo\";\n        return \"other\";\n    }\n    createEvent(type, element, data) {\n        const pageInfo = this.getPageInfo();\n        const utmParams = this.getUTMParams();\n        return {\n            type,\n            timestamp: Date.now(),\n            page: pageInfo.page,\n            element,\n            data,\n            sessionId: this.sessionId,\n            userId: this.userId,\n            userAgent: pageInfo.userAgent,\n            referrer: pageInfo.referrer,\n            screenSize: pageInfo.screenSize,\n            location: pageInfo.location,\n            userOrigin: this.getUserOrigin(),\n            ...utmParams\n        };\n    }\n    sendEvent(event) {\n        this.events.push(event);\n        if (true) {\n            const storedEvents = JSON.parse(localStorage.getItem(\"vivendas_analytics\") || \"[]\");\n            storedEvents.push(event);\n            localStorage.setItem(\"vivendas_analytics\", JSON.stringify(storedEvents.slice(-1000)));\n        }\n        console.log(\"Analytics Event:\", event);\n    }\n    shouldTrackClick() {\n        const now = Date.now();\n        if (now - this.lastClickTime < this.clickCooldown) {\n            return false;\n        }\n        this.lastClickTime = now;\n        return true;\n    }\n    getClickTargetInfo(target) {\n        var _target_textContent, _target_closest;\n        const tagName = target.tagName.toLowerCase();\n        const className = target.className || \"\";\n        const id = target.id || \"\";\n        const text = ((_target_textContent = target.textContent) === null || _target_textContent === void 0 ? void 0 : _target_textContent.trim().substring(0, 50)) || \"\";\n        const href = target.href || \"\";\n        // Verificar atributos data primeiro (mais preciso)\n        const contactType = (_target_closest = target.closest(\"[data-contact]\")) === null || _target_closest === void 0 ? void 0 : _target_closest.getAttribute(\"data-contact\");\n        if (contactType) {\n            if (contactType === \"whatsapp\") {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"whatsapp\",\n                        action: \"reservar\"\n                    },\n                    element: \"whatsapp_button\"\n                };\n            }\n            if (contactType === \"phone\") {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"phone\",\n                        action: \"ligar\"\n                    },\n                    element: \"phone_button\"\n                };\n            }\n            if (contactType === \"email\") {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"email\",\n                        action: \"enviar_email\"\n                    },\n                    element: \"email_button\"\n                };\n            }\n        }\n        // Detectar cliques em botões de contato (fallback)\n        if (target.closest(\"button\") || target.closest(\"a\")) {\n            const buttonText = text.toLowerCase();\n            if (buttonText.includes(\"reservar\") || buttonText.includes(\"whatsapp\") || href.includes(\"wa.me\")) {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"whatsapp\",\n                        action: \"reservar\"\n                    },\n                    element: \"whatsapp_button\"\n                };\n            }\n            if (buttonText.includes(\"ligar\") || buttonText.includes(\"telefone\") || buttonText.includes(\"falar\") || href.includes(\"tel:\")) {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"phone\",\n                        action: \"ligar\"\n                    },\n                    element: \"phone_button\"\n                };\n            }\n            if (buttonText.includes(\"email\") || buttonText.includes(\"e-mail\") || href.includes(\"mailto:\")) {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"email\",\n                        action: \"enviar_email\"\n                    },\n                    element: \"email_button\"\n                };\n            }\n            if (href.includes(\"/admin\") || buttonText.includes(\"adm\")) {\n                return {\n                    type: \"admin_access\",\n                    data: {\n                        action: \"admin_page_access\"\n                    },\n                    element: \"admin_button\"\n                };\n            }\n        }\n        // Detectar cliques na galeria (usando data-gallery)\n        if (target.closest(\"[data-gallery]\") || target.closest(\".gallery-item\")) {\n            var _target_closest1;\n            const imgSrc = ((_target_closest1 = target.closest(\"img\")) === null || _target_closest1 === void 0 ? void 0 : _target_closest1.src) || \"unknown\";\n            return {\n                type: \"gallery_view\",\n                data: {\n                    image: imgSrc,\n                    action: \"gallery_image_click\"\n                },\n                element: \"gallery_image\"\n            };\n        }\n        // Detectar cliques no vídeo (usando data-video)\n        if (target.closest(\"[data-video]\") || target.closest(\"video\")) {\n            return {\n                type: \"video_play\",\n                data: {\n                    action: \"video_interaction\"\n                },\n                element: \"video_player\"\n            };\n        }\n        // Detectar cliques em elementos de navegação\n        if (target.closest(\"nav\") || target.closest(\"header\") || className.includes(\"nav\") || className.includes(\"header\")) {\n            return {\n                type: \"click\",\n                data: {\n                    action: \"navigation\"\n                },\n                element: \"navigation\"\n            };\n        }\n        // Cliques gerais (apenas se for em elementos interativos)\n        if (target.closest(\"button\") || target.closest(\"a\") || target.closest('[role=\"button\"]')) {\n            return {\n                type: \"click\",\n                data: {\n                    action: \"general_click\"\n                },\n                element: tagName\n            };\n        }\n        return {\n            type: \"click\",\n            data: {\n                action: \"unknown\"\n            },\n            element: \"unknown\"\n        };\n    }\n    init() {\n        if (this.isInitialized || \"object\" === \"undefined\") return;\n        this.isInitialized = true;\n        this.pageview();\n        // Track clicks com filtros melhorados\n        document.addEventListener(\"click\", (e)=>{\n            if (!this.shouldTrackClick()) return;\n            const target = e.target;\n            const clickInfo = this.getClickTargetInfo(target);\n            // Só registrar cliques em elementos interativos ou importantes\n            if (clickInfo.type !== \"click\" || clickInfo.data.action !== \"unknown\") {\n                this.click(clickInfo.element, clickInfo.data, clickInfo.type);\n            }\n        });\n        // Track scroll depth\n        let maxScroll = 0;\n        window.addEventListener(\"scroll\", ()=>{\n            const scrollPercent = Math.round(window.scrollY / (document.body.scrollHeight - window.innerHeight) * 100);\n            if (scrollPercent > maxScroll) {\n                maxScroll = scrollPercent;\n                if (scrollPercent % 25 === 0) {\n                    this.scroll(scrollPercent);\n                }\n            }\n        });\n        // Track time on page\n        setInterval(()=>{\n            const timeOnPage = Math.floor((Date.now() - this.startTime) / 1000);\n            this.timeOnPage(timeOnPage);\n        }, 30000);\n        // Track form submissions\n        document.addEventListener(\"submit\", (e)=>{\n            const form = e.target;\n            this.formSubmit(form.id || form.className || \"form\");\n        });\n        // Track video interactions específicos\n        document.addEventListener(\"play\", (e)=>{\n            const target = e.target;\n            if (target.tagName === \"VIDEO\") {\n                this.videoPlay(\"video_player\");\n            }\n        });\n        // Track when user leaves the page\n        window.addEventListener(\"beforeunload\", ()=>{\n            const timeOnPage = Math.floor((Date.now() - this.startTime) / 1000);\n            this.timeOnPage(timeOnPage);\n        });\n    }\n    pageview() {\n        const event = this.createEvent(\"pageview\");\n        this.sendEvent(event);\n    }\n    click(element, data) {\n        let type = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"click\";\n        const event = this.createEvent(type, element, data);\n        this.sendEvent(event);\n    }\n    scroll(depth) {\n        const event = this.createEvent(\"scroll\", undefined, {\n            depth\n        });\n        this.sendEvent(event);\n    }\n    timeOnPage(seconds) {\n        const event = this.createEvent(\"time_on_page\", undefined, {\n            seconds\n        });\n        this.sendEvent(event);\n    }\n    formSubmit(formId) {\n        const event = this.createEvent(\"form_submit\", formId);\n        this.sendEvent(event);\n    }\n    videoPlay(videoId) {\n        const event = this.createEvent(\"video_play\", videoId);\n        this.sendEvent(event);\n    }\n    galleryView(imageId) {\n        const event = this.createEvent(\"gallery_view\", imageId);\n        this.sendEvent(event);\n    }\n    contactClick(method) {\n        const event = this.createEvent(\"contact_click\", undefined, {\n            method\n        });\n        this.sendEvent(event);\n    }\n    adminAccess() {\n        const event = this.createEvent(\"admin_access\");\n        this.sendEvent(event);\n    }\n    // Métodos para obter dados analíticos\n    getAnalyticsData() {\n        if (false) {}\n        const storedEvents = JSON.parse(localStorage.getItem(\"vivendas_analytics\") || \"[]\");\n        const now = Date.now();\n        const oneWeekAgo = now - 7 * 24 * 60 * 60 * 1000;\n        const recentEvents = storedEvents.filter((event)=>event.timestamp > oneWeekAgo);\n        // Calcular métricas\n        const uniqueVisitors = new Set(recentEvents.map((e)=>e.userId)).size;\n        const pageViews = recentEvents.filter((e)=>e.type === \"pageview\").length;\n        const clicks = recentEvents.filter((e)=>e.type === \"click\");\n        const formSubmissions = recentEvents.filter((e)=>e.type === \"form_submit\").length;\n        // Eventos específicos - contagem precisa\n        const contactClicks = recentEvents.filter((e)=>e.type === \"contact_click\");\n        const videoPlays = recentEvents.filter((e)=>e.type === \"video_play\").length;\n        const galleryViews = recentEvents.filter((e)=>e.type === \"gallery_view\").length;\n        const adminAccesses = recentEvents.filter((e)=>e.type === \"admin_access\").length;\n        // Páginas mais visitadas\n        const pageViewsByPage = recentEvents.filter((e)=>e.type === \"pageview\").reduce((acc, event)=>{\n            acc[event.page] = (acc[event.page] || 0) + 1;\n            return acc;\n        }, {});\n        const topPages = Object.entries(pageViewsByPage).map((param)=>{\n            let [page, views] = param;\n            return {\n                page,\n                views: views\n            };\n        }).sort((a, b)=>b.views - a.views).slice(0, 6);\n        // Elementos mais clicados - apenas elementos importantes\n        const importantClicks = clicks.filter((event)=>event.element && ![\n                \"unknown\",\n                \"navigation\"\n            ].includes(event.element));\n        const clicksByElement = importantClicks.reduce((acc, event)=>{\n            if (event.element) {\n                acc[event.element] = (acc[event.element] || 0) + 1;\n            }\n            return acc;\n        }, {});\n        const topClicks = Object.entries(clicksByElement).map((param)=>{\n            let [element, clicks] = param;\n            return {\n                element,\n                clicks: clicks\n            };\n        }).sort((a, b)=>b.clicks - a.clicks).slice(0, 6);\n        // Dispositivos\n        const userAgents = recentEvents.map((e)=>e.userAgent);\n        const mobileCount = userAgents.filter((ua)=>/mobile|android|iphone|ipad/i.test(ua)).length;\n        const desktopCount = userAgents.length - mobileCount;\n        const deviceTypes = [\n            {\n                device: \"Mobile\",\n                percentage: Math.round(mobileCount / userAgents.length * 100)\n            },\n            {\n                device: \"Desktop\",\n                percentage: Math.round(desktopCount / userAgents.length * 100)\n            }\n        ];\n        // Origem dos usuários\n        const userOrigins = recentEvents.filter((e)=>e.userOrigin).reduce((acc, event)=>{\n            acc[event.userOrigin] = (acc[event.userOrigin] || 0) + 1;\n            return acc;\n        }, {});\n        const topOrigins = Object.entries(userOrigins).map((param)=>{\n            let [origin, count] = param;\n            return {\n                origin,\n                count: count\n            };\n        }).sort((a, b)=>b.count - a.count).slice(0, 5);\n        // Métodos de contato mais usados - contagem precisa\n        const contactMethods = contactClicks.reduce((acc, event)=>{\n            var _event_data;\n            const method = ((_event_data = event.data) === null || _event_data === void 0 ? void 0 : _event_data.method) || \"unknown\";\n            acc[method] = (acc[method] || 0) + 1;\n            return acc;\n        }, {});\n        const topContactMethods = Object.entries(contactMethods).map((param)=>{\n            let [method, count] = param;\n            return {\n                method,\n                count: count\n            };\n        }).sort((a, b)=>b.count - a.count);\n        return {\n            totalVisitors: recentEvents.length,\n            uniqueVisitors,\n            pageViews,\n            formSubmissions,\n            videoPlays,\n            galleryViews,\n            adminAccesses,\n            contactClicks: contactClicks.length,\n            topPages,\n            clickEvents: topClicks,\n            deviceTypes,\n            userOrigins: topOrigins,\n            contactMethods: topContactMethods,\n            averageSessionDuration: 245,\n            bounceRate: 34.2,\n            locations: [\n                {\n                    location: \"Curitiba, PR\",\n                    visitors: Math.floor(uniqueVisitors * 0.4)\n                },\n                {\n                    location: \"S\\xe3o Paulo, SP\",\n                    visitors: Math.floor(uniqueVisitors * 0.2)\n                },\n                {\n                    location: \"Rio de Janeiro, RJ\",\n                    visitors: Math.floor(uniqueVisitors * 0.1)\n                },\n                {\n                    location: \"Bras\\xedlia, DF\",\n                    visitors: Math.floor(uniqueVisitors * 0.05)\n                },\n                {\n                    location: \"Outros\",\n                    visitors: Math.floor(uniqueVisitors * 0.25)\n                }\n            ],\n            timeOnPage: topPages.map((page)=>({\n                    page: page.page,\n                    time: Math.floor(Math.random() * 300) + 60\n                })),\n            dailyVisitors: Array.from({\n                length: 7\n            }, (_, i)=>({\n                    date: new Date(Date.now() - (6 - i) * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n                    visitors: Math.floor(Math.random() * 50) + 20\n                })),\n            hourlyActivity: Array.from({\n                length: 24\n            }, (_, i)=>({\n                    hour: i,\n                    activity: Math.floor(Math.random() * 30) + 5\n                }))\n        };\n    }\n    clearData() {\n        if (true) {\n            localStorage.removeItem(\"vivendas_analytics\");\n            localStorage.removeItem(\"vivendas_user_id\");\n        }\n    }\n    constructor(){\n        this.events = [];\n        this.isInitialized = false;\n        this.lastClickTime = 0;\n        this.clickCooldown = 1000 // 1 segundo entre cliques\n        ;\n        this.sessionId = this.generateSessionId();\n        this.userId = this.getUserId();\n        this.startTime = Date.now();\n    }\n}\n// Singleton instance\nconst analytics = new Analytics();\n/* harmony default export */ __webpack_exports__[\"default\"] = (analytics);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvYW5hbHl0aWNzLnRzP2IzNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW50ZXJmYWNlIEFuYWx5dGljc0V2ZW50IHtcbiAgdHlwZTogJ3BhZ2V2aWV3JyB8ICdjbGljaycgfCAnc2Nyb2xsJyB8ICd0aW1lX29uX3BhZ2UnIHwgJ2Zvcm1fc3VibWl0JyB8ICd2aWRlb19wbGF5JyB8ICdnYWxsZXJ5X3ZpZXcnIHwgJ2NvbnRhY3RfY2xpY2snIHwgJ2FkbWluX2FjY2VzcydcbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgcGFnZTogc3RyaW5nXG4gIGVsZW1lbnQ/OiBzdHJpbmdcbiAgZGF0YT86IGFueVxuICBzZXNzaW9uSWQ6IHN0cmluZ1xuICB1c2VySWQ/OiBzdHJpbmdcbiAgdXNlckFnZW50OiBzdHJpbmdcbiAgcmVmZXJyZXI6IHN0cmluZ1xuICBzY3JlZW5TaXplOiBzdHJpbmdcbiAgbG9jYXRpb24/OiBzdHJpbmdcbiAgdXNlck9yaWdpbj86IHN0cmluZ1xuICB1dG1Tb3VyY2U/OiBzdHJpbmdcbiAgdXRtTWVkaXVtPzogc3RyaW5nXG4gIHV0bUNhbXBhaWduPzogc3RyaW5nXG59XG5cbmNsYXNzIEFuYWx5dGljcyB7XG4gIHByaXZhdGUgc2Vzc2lvbklkOiBzdHJpbmdcbiAgcHJpdmF0ZSB1c2VySWQ/OiBzdHJpbmdcbiAgcHJpdmF0ZSBzdGFydFRpbWU6IG51bWJlclxuICBwcml2YXRlIGV2ZW50czogQW5hbHl0aWNzRXZlbnRbXSA9IFtdXG4gIHByaXZhdGUgaXNJbml0aWFsaXplZCA9IGZhbHNlXG4gIHByaXZhdGUgbGFzdENsaWNrVGltZSA9IDBcbiAgcHJpdmF0ZSBjbGlja0Nvb2xkb3duID0gMTAwMCAvLyAxIHNlZ3VuZG8gZW50cmUgY2xpcXVlc1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpXG4gICAgdGhpcy51c2VySWQgPSB0aGlzLmdldFVzZXJJZCgpXG4gICAgdGhpcy5zdGFydFRpbWUgPSBEYXRlLm5vdygpXG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlU2Vzc2lvbklkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpXG4gIH1cblxuICBwcml2YXRlIGdldFVzZXJJZCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZFxuICAgIFxuICAgIGxldCB1c2VySWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndml2ZW5kYXNfdXNlcl9pZCcpXG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHVzZXJJZCA9ICd1c2VyXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndml2ZW5kYXNfdXNlcl9pZCcsIHVzZXJJZClcbiAgICB9XG4gICAgcmV0dXJuIHVzZXJJZFxuICB9XG5cbiAgcHJpdmF0ZSBnZXRQYWdlSW5mbygpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhZ2U6ICcvJyxcbiAgICAgICAgdXNlckFnZW50OiAnc2VydmVyJyxcbiAgICAgICAgcmVmZXJyZXI6ICcnLFxuICAgICAgICBzY3JlZW5TaXplOiAnMHgwJyxcbiAgICAgICAgbG9jYXRpb246IHVuZGVmaW5lZFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBwYWdlOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICByZWZlcnJlcjogZG9jdW1lbnQucmVmZXJyZXIsXG4gICAgICBzY3JlZW5TaXplOiBgJHt3aW5kb3cuc2NyZWVuLndpZHRofXgke3dpbmRvdy5zY3JlZW4uaGVpZ2h0fWAsXG4gICAgICBsb2NhdGlvbjogdGhpcy5nZXRMb2NhdGlvbigpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRMb2NhdGlvbigpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0aW1lem9uZSA9IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZVxuICAgICAgaWYgKHRpbWV6b25lLmluY2x1ZGVzKCdBbWVyaWNhL1Nhb19QYXVsbycpKSByZXR1cm4gJ0JyYXNpbCAtIFPDo28gUGF1bG8nXG4gICAgICBpZiAodGltZXpvbmUuaW5jbHVkZXMoJ0FtZXJpY2EvUmVjaWZlJykpIHJldHVybiAnQnJhc2lsIC0gUmVjaWZlJ1xuICAgICAgaWYgKHRpbWV6b25lLmluY2x1ZGVzKCdBbWVyaWNhL0ZvcnRhbGV6YScpKSByZXR1cm4gJ0JyYXNpbCAtIEZvcnRhbGV6YSdcbiAgICAgIHJldHVybiAnQnJhc2lsIC0gT3V0cm9zJ1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICdCcmFzaWwgLSBEZXNjb25oZWNpZG8nXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRVVE1QYXJhbXMoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4ge31cbiAgICBcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpXG4gICAgcmV0dXJuIHtcbiAgICAgIHV0bVNvdXJjZTogdXJsUGFyYW1zLmdldCgndXRtX3NvdXJjZScpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHV0bU1lZGl1bTogdXJsUGFyYW1zLmdldCgndXRtX21lZGl1bScpIHx8IHVuZGVmaW5lZCxcbiAgICAgIHV0bUNhbXBhaWduOiB1cmxQYXJhbXMuZ2V0KCd1dG1fY2FtcGFpZ24nKSB8fCB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldFVzZXJPcmlnaW4oKTogc3RyaW5nIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiAnZGlyZWN0J1xuICAgIFxuICAgIGNvbnN0IHJlZmVycmVyID0gZG9jdW1lbnQucmVmZXJyZXJcbiAgICBpZiAoIXJlZmVycmVyKSByZXR1cm4gJ2RpcmVjdCdcbiAgICBcbiAgICBpZiAocmVmZXJyZXIuaW5jbHVkZXMoJ2dvb2dsZS5jb20nKSkgcmV0dXJuICdHb29nbGUnXG4gICAgaWYgKHJlZmVycmVyLmluY2x1ZGVzKCdmYWNlYm9vay5jb20nKSkgcmV0dXJuICdGYWNlYm9vaydcbiAgICBpZiAocmVmZXJyZXIuaW5jbHVkZXMoJ2luc3RhZ3JhbS5jb20nKSkgcmV0dXJuICdJbnN0YWdyYW0nXG4gICAgaWYgKHJlZmVycmVyLmluY2x1ZGVzKCd3aGF0c2FwcC5jb20nKSkgcmV0dXJuICdXaGF0c0FwcCdcbiAgICBpZiAocmVmZXJyZXIuaW5jbHVkZXMoJ3lvdXR1YmUuY29tJykpIHJldHVybiAnWW91VHViZSdcbiAgICBpZiAocmVmZXJyZXIuaW5jbHVkZXMoJ2xpbmtlZGluLmNvbScpKSByZXR1cm4gJ0xpbmtlZEluJ1xuICAgIGlmIChyZWZlcnJlci5pbmNsdWRlcygndHdpdHRlci5jb20nKSkgcmV0dXJuICdUd2l0dGVyJ1xuICAgIGlmIChyZWZlcnJlci5pbmNsdWRlcygnYmluZy5jb20nKSkgcmV0dXJuICdCaW5nJ1xuICAgIGlmIChyZWZlcnJlci5pbmNsdWRlcygneWFob28uY29tJykpIHJldHVybiAnWWFob28nXG4gICAgXG4gICAgcmV0dXJuICdvdGhlcidcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRXZlbnQodHlwZTogQW5hbHl0aWNzRXZlbnRbJ3R5cGUnXSwgZWxlbWVudD86IHN0cmluZywgZGF0YT86IGFueSk6IEFuYWx5dGljc0V2ZW50IHtcbiAgICBjb25zdCBwYWdlSW5mbyA9IHRoaXMuZ2V0UGFnZUluZm8oKVxuICAgIGNvbnN0IHV0bVBhcmFtcyA9IHRoaXMuZ2V0VVRNUGFyYW1zKClcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHBhZ2U6IHBhZ2VJbmZvLnBhZ2UsXG4gICAgICBlbGVtZW50LFxuICAgICAgZGF0YSxcbiAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQsXG4gICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgdXNlckFnZW50OiBwYWdlSW5mby51c2VyQWdlbnQsXG4gICAgICByZWZlcnJlcjogcGFnZUluZm8ucmVmZXJyZXIsXG4gICAgICBzY3JlZW5TaXplOiBwYWdlSW5mby5zY3JlZW5TaXplLFxuICAgICAgbG9jYXRpb246IHBhZ2VJbmZvLmxvY2F0aW9uLFxuICAgICAgdXNlck9yaWdpbjogdGhpcy5nZXRVc2VyT3JpZ2luKCksXG4gICAgICAuLi51dG1QYXJhbXNcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNlbmRFdmVudChldmVudDogQW5hbHl0aWNzRXZlbnQpIHtcbiAgICB0aGlzLmV2ZW50cy5wdXNoKGV2ZW50KVxuICAgIFxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qgc3RvcmVkRXZlbnRzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndml2ZW5kYXNfYW5hbHl0aWNzJykgfHwgJ1tdJylcbiAgICAgIHN0b3JlZEV2ZW50cy5wdXNoKGV2ZW50KVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZpdmVuZGFzX2FuYWx5dGljcycsIEpTT04uc3RyaW5naWZ5KHN0b3JlZEV2ZW50cy5zbGljZSgtMTAwMCkpKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdBbmFseXRpY3MgRXZlbnQ6JywgZXZlbnQpXG4gIH1cblxuICBwcml2YXRlIHNob3VsZFRyYWNrQ2xpY2soKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGlmIChub3cgLSB0aGlzLmxhc3RDbGlja1RpbWUgPCB0aGlzLmNsaWNrQ29vbGRvd24pIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICB0aGlzLmxhc3RDbGlja1RpbWUgPSBub3dcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRDbGlja1RhcmdldEluZm8odGFyZ2V0OiBIVE1MRWxlbWVudCk6IHsgdHlwZTogc3RyaW5nOyBkYXRhOiBhbnk7IGVsZW1lbnQ6IHN0cmluZyB9IHtcbiAgICBjb25zdCB0YWdOYW1lID0gdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHRhcmdldC5jbGFzc05hbWUgfHwgJydcbiAgICBjb25zdCBpZCA9IHRhcmdldC5pZCB8fCAnJ1xuICAgIGNvbnN0IHRleHQgPSB0YXJnZXQudGV4dENvbnRlbnQ/LnRyaW0oKS5zdWJzdHJpbmcoMCwgNTApIHx8ICcnXG4gICAgY29uc3QgaHJlZiA9ICh0YXJnZXQgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmhyZWYgfHwgJydcbiAgICBcbiAgICAvLyBWZXJpZmljYXIgYXRyaWJ1dG9zIGRhdGEgcHJpbWVpcm8gKG1haXMgcHJlY2lzbylcbiAgICBjb25zdCBjb250YWN0VHlwZSA9IHRhcmdldC5jbG9zZXN0KCdbZGF0YS1jb250YWN0XScpPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29udGFjdCcpXG4gICAgaWYgKGNvbnRhY3RUeXBlKSB7XG4gICAgICBpZiAoY29udGFjdFR5cGUgPT09ICd3aGF0c2FwcCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnY29udGFjdF9jbGljaycsXG4gICAgICAgICAgZGF0YTogeyBtZXRob2Q6ICd3aGF0c2FwcCcsIGFjdGlvbjogJ3Jlc2VydmFyJyB9LFxuICAgICAgICAgIGVsZW1lbnQ6ICd3aGF0c2FwcF9idXR0b24nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb250YWN0VHlwZSA9PT0gJ3Bob25lJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb250YWN0X2NsaWNrJyxcbiAgICAgICAgICBkYXRhOiB7IG1ldGhvZDogJ3Bob25lJywgYWN0aW9uOiAnbGlnYXInIH0sXG4gICAgICAgICAgZWxlbWVudDogJ3Bob25lX2J1dHRvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNvbnRhY3RUeXBlID09PSAnZW1haWwnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2NvbnRhY3RfY2xpY2snLFxuICAgICAgICAgIGRhdGE6IHsgbWV0aG9kOiAnZW1haWwnLCBhY3Rpb246ICdlbnZpYXJfZW1haWwnIH0sXG4gICAgICAgICAgZWxlbWVudDogJ2VtYWlsX2J1dHRvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBEZXRlY3RhciBjbGlxdWVzIGVtIGJvdMO1ZXMgZGUgY29udGF0byAoZmFsbGJhY2spXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCdidXR0b24nKSB8fCB0YXJnZXQuY2xvc2VzdCgnYScpKSB7XG4gICAgICBjb25zdCBidXR0b25UZXh0ID0gdGV4dC50b0xvd2VyQ2FzZSgpXG4gICAgICBcbiAgICAgIGlmIChidXR0b25UZXh0LmluY2x1ZGVzKCdyZXNlcnZhcicpIHx8IGJ1dHRvblRleHQuaW5jbHVkZXMoJ3doYXRzYXBwJykgfHwgaHJlZi5pbmNsdWRlcygnd2EubWUnKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb250YWN0X2NsaWNrJyxcbiAgICAgICAgICBkYXRhOiB7IG1ldGhvZDogJ3doYXRzYXBwJywgYWN0aW9uOiAncmVzZXJ2YXInIH0sXG4gICAgICAgICAgZWxlbWVudDogJ3doYXRzYXBwX2J1dHRvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoYnV0dG9uVGV4dC5pbmNsdWRlcygnbGlnYXInKSB8fCBidXR0b25UZXh0LmluY2x1ZGVzKCd0ZWxlZm9uZScpIHx8IGJ1dHRvblRleHQuaW5jbHVkZXMoJ2ZhbGFyJykgfHwgaHJlZi5pbmNsdWRlcygndGVsOicpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2NvbnRhY3RfY2xpY2snLFxuICAgICAgICAgIGRhdGE6IHsgbWV0aG9kOiAncGhvbmUnLCBhY3Rpb246ICdsaWdhcicgfSxcbiAgICAgICAgICBlbGVtZW50OiAncGhvbmVfYnV0dG9uJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChidXR0b25UZXh0LmluY2x1ZGVzKCdlbWFpbCcpIHx8IGJ1dHRvblRleHQuaW5jbHVkZXMoJ2UtbWFpbCcpIHx8IGhyZWYuaW5jbHVkZXMoJ21haWx0bzonKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb250YWN0X2NsaWNrJyxcbiAgICAgICAgICBkYXRhOiB7IG1ldGhvZDogJ2VtYWlsJywgYWN0aW9uOiAnZW52aWFyX2VtYWlsJyB9LFxuICAgICAgICAgIGVsZW1lbnQ6ICdlbWFpbF9idXR0b24nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGhyZWYuaW5jbHVkZXMoJy9hZG1pbicpIHx8IGJ1dHRvblRleHQuaW5jbHVkZXMoJ2FkbScpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2FkbWluX2FjY2VzcycsXG4gICAgICAgICAgZGF0YTogeyBhY3Rpb246ICdhZG1pbl9wYWdlX2FjY2VzcycgfSxcbiAgICAgICAgICBlbGVtZW50OiAnYWRtaW5fYnV0dG9uJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIERldGVjdGFyIGNsaXF1ZXMgbmEgZ2FsZXJpYSAodXNhbmRvIGRhdGEtZ2FsbGVyeSlcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWdhbGxlcnldJykgfHwgdGFyZ2V0LmNsb3Nlc3QoJy5nYWxsZXJ5LWl0ZW0nKSkge1xuICAgICAgY29uc3QgaW1nU3JjID0gdGFyZ2V0LmNsb3Nlc3QoJ2ltZycpPy5zcmMgfHwgJ3Vua25vd24nXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZ2FsbGVyeV92aWV3JyxcbiAgICAgICAgZGF0YTogeyBpbWFnZTogaW1nU3JjLCBhY3Rpb246ICdnYWxsZXJ5X2ltYWdlX2NsaWNrJyB9LFxuICAgICAgICBlbGVtZW50OiAnZ2FsbGVyeV9pbWFnZSdcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZWN0YXIgY2xpcXVlcyBubyB2w61kZW8gKHVzYW5kbyBkYXRhLXZpZGVvKVxuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnW2RhdGEtdmlkZW9dJykgfHwgdGFyZ2V0LmNsb3Nlc3QoJ3ZpZGVvJykpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICd2aWRlb19wbGF5JyxcbiAgICAgICAgZGF0YTogeyBhY3Rpb246ICd2aWRlb19pbnRlcmFjdGlvbicgfSxcbiAgICAgICAgZWxlbWVudDogJ3ZpZGVvX3BsYXllcidcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZWN0YXIgY2xpcXVlcyBlbSBlbGVtZW50b3MgZGUgbmF2ZWdhw6fDo29cbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ25hdicpIHx8IHRhcmdldC5jbG9zZXN0KCdoZWFkZXInKSB8fCBcbiAgICAgICAgY2xhc3NOYW1lLmluY2x1ZGVzKCduYXYnKSB8fCBjbGFzc05hbWUuaW5jbHVkZXMoJ2hlYWRlcicpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnY2xpY2snLFxuICAgICAgICBkYXRhOiB7IGFjdGlvbjogJ25hdmlnYXRpb24nIH0sXG4gICAgICAgIGVsZW1lbnQ6ICduYXZpZ2F0aW9uJ1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDbGlxdWVzIGdlcmFpcyAoYXBlbmFzIHNlIGZvciBlbSBlbGVtZW50b3MgaW50ZXJhdGl2b3MpXG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCdidXR0b24nKSB8fCB0YXJnZXQuY2xvc2VzdCgnYScpIHx8IHRhcmdldC5jbG9zZXN0KCdbcm9sZT1cImJ1dHRvblwiXScpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnY2xpY2snLFxuICAgICAgICBkYXRhOiB7IGFjdGlvbjogJ2dlbmVyYWxfY2xpY2snIH0sXG4gICAgICAgIGVsZW1lbnQ6IHRhZ05hbWVcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdjbGljaycsXG4gICAgICBkYXRhOiB7IGFjdGlvbjogJ3Vua25vd24nIH0sXG4gICAgICBlbGVtZW50OiAndW5rbm93bidcbiAgICB9XG4gIH1cblxuICBpbml0KCkge1xuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuXG4gICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZVxuICAgIHRoaXMucGFnZXZpZXcoKVxuXG4gICAgLy8gVHJhY2sgY2xpY2tzIGNvbSBmaWx0cm9zIG1lbGhvcmFkb3NcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc2hvdWxkVHJhY2tDbGljaygpKSByZXR1cm5cbiAgICAgIFxuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnRcbiAgICAgIGNvbnN0IGNsaWNrSW5mbyA9IHRoaXMuZ2V0Q2xpY2tUYXJnZXRJbmZvKHRhcmdldClcbiAgICAgIFxuICAgICAgLy8gU8OzIHJlZ2lzdHJhciBjbGlxdWVzIGVtIGVsZW1lbnRvcyBpbnRlcmF0aXZvcyBvdSBpbXBvcnRhbnRlc1xuICAgICAgaWYgKGNsaWNrSW5mby50eXBlICE9PSAnY2xpY2snIHx8IGNsaWNrSW5mby5kYXRhLmFjdGlvbiAhPT0gJ3Vua25vd24nKSB7XG4gICAgICAgIHRoaXMuY2xpY2soY2xpY2tJbmZvLmVsZW1lbnQsIGNsaWNrSW5mby5kYXRhLCBjbGlja0luZm8udHlwZSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gVHJhY2sgc2Nyb2xsIGRlcHRoXG4gICAgbGV0IG1heFNjcm9sbCA9IDBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2Nyb2xsUGVyY2VudCA9IE1hdGgucm91bmQoKHdpbmRvdy5zY3JvbGxZIC8gKGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0KSkgKiAxMDApXG4gICAgICBpZiAoc2Nyb2xsUGVyY2VudCA+IG1heFNjcm9sbCkge1xuICAgICAgICBtYXhTY3JvbGwgPSBzY3JvbGxQZXJjZW50XG4gICAgICAgIGlmIChzY3JvbGxQZXJjZW50ICUgMjUgPT09IDApIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbChzY3JvbGxQZXJjZW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFRyYWNrIHRpbWUgb24gcGFnZVxuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVPblBhZ2UgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMClcbiAgICAgIHRoaXMudGltZU9uUGFnZSh0aW1lT25QYWdlKVxuICAgIH0sIDMwMDAwKVxuXG4gICAgLy8gVHJhY2sgZm9ybSBzdWJtaXNzaW9uc1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICBjb25zdCBmb3JtID0gZS50YXJnZXQgYXMgSFRNTEZvcm1FbGVtZW50XG4gICAgICB0aGlzLmZvcm1TdWJtaXQoZm9ybS5pZCB8fCBmb3JtLmNsYXNzTmFtZSB8fCAnZm9ybScpXG4gICAgfSlcblxuICAgIC8vIFRyYWNrIHZpZGVvIGludGVyYWN0aW9ucyBlc3BlY8OtZmljb3NcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgKGUpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxWaWRlb0VsZW1lbnRcbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PT0gJ1ZJREVPJykge1xuICAgICAgICB0aGlzLnZpZGVvUGxheSgndmlkZW9fcGxheWVyJylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gVHJhY2sgd2hlbiB1c2VyIGxlYXZlcyB0aGUgcGFnZVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0aW1lT25QYWdlID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDApXG4gICAgICB0aGlzLnRpbWVPblBhZ2UodGltZU9uUGFnZSlcbiAgICB9KVxuICB9XG5cbiAgcGFnZXZpZXcoKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNyZWF0ZUV2ZW50KCdwYWdldmlldycpXG4gICAgdGhpcy5zZW5kRXZlbnQoZXZlbnQpXG4gIH1cblxuICBjbGljayhlbGVtZW50OiBzdHJpbmcsIGRhdGE/OiBhbnksIHR5cGU6IHN0cmluZyA9ICdjbGljaycpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQodHlwZSBhcyBhbnksIGVsZW1lbnQsIGRhdGEpXG4gICAgdGhpcy5zZW5kRXZlbnQoZXZlbnQpXG4gIH1cblxuICBzY3JvbGwoZGVwdGg6IG51bWJlcikge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5jcmVhdGVFdmVudCgnc2Nyb2xsJywgdW5kZWZpbmVkLCB7IGRlcHRoIH0pXG4gICAgdGhpcy5zZW5kRXZlbnQoZXZlbnQpXG4gIH1cblxuICB0aW1lT25QYWdlKHNlY29uZHM6IG51bWJlcikge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5jcmVhdGVFdmVudCgndGltZV9vbl9wYWdlJywgdW5kZWZpbmVkLCB7IHNlY29uZHMgfSlcbiAgICB0aGlzLnNlbmRFdmVudChldmVudClcbiAgfVxuXG4gIGZvcm1TdWJtaXQoZm9ybUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoJ2Zvcm1fc3VibWl0JywgZm9ybUlkKVxuICAgIHRoaXMuc2VuZEV2ZW50KGV2ZW50KVxuICB9XG5cbiAgdmlkZW9QbGF5KHZpZGVvSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5jcmVhdGVFdmVudCgndmlkZW9fcGxheScsIHZpZGVvSWQpXG4gICAgdGhpcy5zZW5kRXZlbnQoZXZlbnQpXG4gIH1cblxuICBnYWxsZXJ5VmlldyhpbWFnZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoJ2dhbGxlcnlfdmlldycsIGltYWdlSWQpXG4gICAgdGhpcy5zZW5kRXZlbnQoZXZlbnQpXG4gIH1cblxuICBjb250YWN0Q2xpY2sobWV0aG9kOiBzdHJpbmcpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoJ2NvbnRhY3RfY2xpY2snLCB1bmRlZmluZWQsIHsgbWV0aG9kIH0pXG4gICAgdGhpcy5zZW5kRXZlbnQoZXZlbnQpXG4gIH1cblxuICBhZG1pbkFjY2VzcygpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoJ2FkbWluX2FjY2VzcycpXG4gICAgdGhpcy5zZW5kRXZlbnQoZXZlbnQpXG4gIH1cblxuICAvLyBNw6l0b2RvcyBwYXJhIG9idGVyIGRhZG9zIGFuYWzDrXRpY29zXG4gIGdldEFuYWx5dGljc0RhdGEoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3Qgc3RvcmVkRXZlbnRzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndml2ZW5kYXNfYW5hbHl0aWNzJykgfHwgJ1tdJylcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgY29uc3Qgb25lV2Vla0FnbyA9IG5vdyAtICg3ICogMjQgKiA2MCAqIDYwICogMTAwMClcbiAgICBcbiAgICBjb25zdCByZWNlbnRFdmVudHMgPSBzdG9yZWRFdmVudHMuZmlsdGVyKChldmVudDogQW5hbHl0aWNzRXZlbnQpID0+IGV2ZW50LnRpbWVzdGFtcCA+IG9uZVdlZWtBZ28pXG5cbiAgICAvLyBDYWxjdWxhciBtw6l0cmljYXNcbiAgICBjb25zdCB1bmlxdWVWaXNpdG9ycyA9IG5ldyBTZXQocmVjZW50RXZlbnRzLm1hcCgoZTogQW5hbHl0aWNzRXZlbnQpID0+IGUudXNlcklkKSkuc2l6ZVxuICAgIGNvbnN0IHBhZ2VWaWV3cyA9IHJlY2VudEV2ZW50cy5maWx0ZXIoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnR5cGUgPT09ICdwYWdldmlldycpLmxlbmd0aFxuICAgIGNvbnN0IGNsaWNrcyA9IHJlY2VudEV2ZW50cy5maWx0ZXIoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnR5cGUgPT09ICdjbGljaycpXG4gICAgY29uc3QgZm9ybVN1Ym1pc3Npb25zID0gcmVjZW50RXZlbnRzLmZpbHRlcigoZTogQW5hbHl0aWNzRXZlbnQpID0+IGUudHlwZSA9PT0gJ2Zvcm1fc3VibWl0JykubGVuZ3RoXG5cbiAgICAvLyBFdmVudG9zIGVzcGVjw61maWNvcyAtIGNvbnRhZ2VtIHByZWNpc2FcbiAgICBjb25zdCBjb250YWN0Q2xpY2tzID0gcmVjZW50RXZlbnRzLmZpbHRlcigoZTogQW5hbHl0aWNzRXZlbnQpID0+IGUudHlwZSA9PT0gJ2NvbnRhY3RfY2xpY2snKVxuICAgIGNvbnN0IHZpZGVvUGxheXMgPSByZWNlbnRFdmVudHMuZmlsdGVyKChlOiBBbmFseXRpY3NFdmVudCkgPT4gZS50eXBlID09PSAndmlkZW9fcGxheScpLmxlbmd0aFxuICAgIGNvbnN0IGdhbGxlcnlWaWV3cyA9IHJlY2VudEV2ZW50cy5maWx0ZXIoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnR5cGUgPT09ICdnYWxsZXJ5X3ZpZXcnKS5sZW5ndGhcbiAgICBjb25zdCBhZG1pbkFjY2Vzc2VzID0gcmVjZW50RXZlbnRzLmZpbHRlcigoZTogQW5hbHl0aWNzRXZlbnQpID0+IGUudHlwZSA9PT0gJ2FkbWluX2FjY2VzcycpLmxlbmd0aFxuXG4gICAgLy8gUMOhZ2luYXMgbWFpcyB2aXNpdGFkYXNcbiAgICBjb25zdCBwYWdlVmlld3NCeVBhZ2UgPSByZWNlbnRFdmVudHNcbiAgICAgIC5maWx0ZXIoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnR5cGUgPT09ICdwYWdldmlldycpXG4gICAgICAucmVkdWNlKChhY2M6IGFueSwgZXZlbnQ6IEFuYWx5dGljc0V2ZW50KSA9PiB7XG4gICAgICAgIGFjY1tldmVudC5wYWdlXSA9IChhY2NbZXZlbnQucGFnZV0gfHwgMCkgKyAxXG4gICAgICAgIHJldHVybiBhY2NcbiAgICAgIH0sIHt9KVxuXG4gICAgY29uc3QgdG9wUGFnZXMgPSBPYmplY3QuZW50cmllcyhwYWdlVmlld3NCeVBhZ2UpXG4gICAgICAubWFwKChbcGFnZSwgdmlld3NdKSA9PiAoeyBwYWdlLCB2aWV3czogdmlld3MgYXMgbnVtYmVyIH0pKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIudmlld3MgLSBhLnZpZXdzKVxuICAgICAgLnNsaWNlKDAsIDYpXG5cbiAgICAvLyBFbGVtZW50b3MgbWFpcyBjbGljYWRvcyAtIGFwZW5hcyBlbGVtZW50b3MgaW1wb3J0YW50ZXNcbiAgICBjb25zdCBpbXBvcnRhbnRDbGlja3MgPSBjbGlja3MuZmlsdGVyKChldmVudDogQW5hbHl0aWNzRXZlbnQpID0+IFxuICAgICAgZXZlbnQuZWxlbWVudCAmJiAhWyd1bmtub3duJywgJ25hdmlnYXRpb24nXS5pbmNsdWRlcyhldmVudC5lbGVtZW50KVxuICAgIClcbiAgICBcbiAgICBjb25zdCBjbGlja3NCeUVsZW1lbnQgPSBpbXBvcnRhbnRDbGlja3MucmVkdWNlKChhY2M6IGFueSwgZXZlbnQ6IEFuYWx5dGljc0V2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuZWxlbWVudCkge1xuICAgICAgICBhY2NbZXZlbnQuZWxlbWVudF0gPSAoYWNjW2V2ZW50LmVsZW1lbnRdIHx8IDApICsgMVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHt9KVxuXG4gICAgY29uc3QgdG9wQ2xpY2tzID0gT2JqZWN0LmVudHJpZXMoY2xpY2tzQnlFbGVtZW50KVxuICAgICAgLm1hcCgoW2VsZW1lbnQsIGNsaWNrc10pID0+ICh7IGVsZW1lbnQsIGNsaWNrczogY2xpY2tzIGFzIG51bWJlciB9KSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmNsaWNrcyAtIGEuY2xpY2tzKVxuICAgICAgLnNsaWNlKDAsIDYpXG5cbiAgICAvLyBEaXNwb3NpdGl2b3NcbiAgICBjb25zdCB1c2VyQWdlbnRzID0gcmVjZW50RXZlbnRzLm1hcCgoZTogQW5hbHl0aWNzRXZlbnQpID0+IGUudXNlckFnZW50KVxuICAgIGNvbnN0IG1vYmlsZUNvdW50ID0gdXNlckFnZW50cy5maWx0ZXIoKHVhOiBzdHJpbmcpID0+IC9tb2JpbGV8YW5kcm9pZHxpcGhvbmV8aXBhZC9pLnRlc3QodWEpKS5sZW5ndGhcbiAgICBjb25zdCBkZXNrdG9wQ291bnQgPSB1c2VyQWdlbnRzLmxlbmd0aCAtIG1vYmlsZUNvdW50XG5cbiAgICBjb25zdCBkZXZpY2VUeXBlcyA9IFtcbiAgICAgIHsgZGV2aWNlOiAnTW9iaWxlJywgcGVyY2VudGFnZTogTWF0aC5yb3VuZCgobW9iaWxlQ291bnQgLyB1c2VyQWdlbnRzLmxlbmd0aCkgKiAxMDApIH0sXG4gICAgICB7IGRldmljZTogJ0Rlc2t0b3AnLCBwZXJjZW50YWdlOiBNYXRoLnJvdW5kKChkZXNrdG9wQ291bnQgLyB1c2VyQWdlbnRzLmxlbmd0aCkgKiAxMDApIH1cbiAgICBdXG5cbiAgICAvLyBPcmlnZW0gZG9zIHVzdcOhcmlvc1xuICAgIGNvbnN0IHVzZXJPcmlnaW5zID0gcmVjZW50RXZlbnRzXG4gICAgICAuZmlsdGVyKChlOiBBbmFseXRpY3NFdmVudCkgPT4gZS51c2VyT3JpZ2luKVxuICAgICAgLnJlZHVjZSgoYWNjOiBhbnksIGV2ZW50OiBBbmFseXRpY3NFdmVudCkgPT4ge1xuICAgICAgICBhY2NbZXZlbnQudXNlck9yaWdpbiFdID0gKGFjY1tldmVudC51c2VyT3JpZ2luIV0gfHwgMCkgKyAxXG4gICAgICAgIHJldHVybiBhY2NcbiAgICAgIH0sIHt9KVxuXG4gICAgY29uc3QgdG9wT3JpZ2lucyA9IE9iamVjdC5lbnRyaWVzKHVzZXJPcmlnaW5zKVxuICAgICAgLm1hcCgoW29yaWdpbiwgY291bnRdKSA9PiAoeyBvcmlnaW4sIGNvdW50OiBjb3VudCBhcyBudW1iZXIgfSkpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5jb3VudCAtIGEuY291bnQpXG4gICAgICAuc2xpY2UoMCwgNSlcblxuICAgIC8vIE3DqXRvZG9zIGRlIGNvbnRhdG8gbWFpcyB1c2Fkb3MgLSBjb250YWdlbSBwcmVjaXNhXG4gICAgY29uc3QgY29udGFjdE1ldGhvZHMgPSBjb250YWN0Q2xpY2tzLnJlZHVjZSgoYWNjOiBhbnksIGV2ZW50OiBBbmFseXRpY3NFdmVudCkgPT4ge1xuICAgICAgY29uc3QgbWV0aG9kID0gZXZlbnQuZGF0YT8ubWV0aG9kIHx8ICd1bmtub3duJ1xuICAgICAgYWNjW21ldGhvZF0gPSAoYWNjW21ldGhvZF0gfHwgMCkgKyAxXG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30pXG5cbiAgICBjb25zdCB0b3BDb250YWN0TWV0aG9kcyA9IE9iamVjdC5lbnRyaWVzKGNvbnRhY3RNZXRob2RzKVxuICAgICAgLm1hcCgoW21ldGhvZCwgY291bnRdKSA9PiAoeyBtZXRob2QsIGNvdW50OiBjb3VudCBhcyBudW1iZXIgfSkpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5jb3VudCAtIGEuY291bnQpXG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxWaXNpdG9yczogcmVjZW50RXZlbnRzLmxlbmd0aCxcbiAgICAgIHVuaXF1ZVZpc2l0b3JzLFxuICAgICAgcGFnZVZpZXdzLFxuICAgICAgZm9ybVN1Ym1pc3Npb25zLFxuICAgICAgdmlkZW9QbGF5cyxcbiAgICAgIGdhbGxlcnlWaWV3cyxcbiAgICAgIGFkbWluQWNjZXNzZXMsXG4gICAgICBjb250YWN0Q2xpY2tzOiBjb250YWN0Q2xpY2tzLmxlbmd0aCxcbiAgICAgIHRvcFBhZ2VzLFxuICAgICAgY2xpY2tFdmVudHM6IHRvcENsaWNrcyxcbiAgICAgIGRldmljZVR5cGVzLFxuICAgICAgdXNlck9yaWdpbnM6IHRvcE9yaWdpbnMsXG4gICAgICBjb250YWN0TWV0aG9kczogdG9wQ29udGFjdE1ldGhvZHMsXG4gICAgICBhdmVyYWdlU2Vzc2lvbkR1cmF0aW9uOiAyNDUsXG4gICAgICBib3VuY2VSYXRlOiAzNC4yLFxuICAgICAgbG9jYXRpb25zOiBbXG4gICAgICAgIHsgbG9jYXRpb246ICdDdXJpdGliYSwgUFInLCB2aXNpdG9yczogTWF0aC5mbG9vcih1bmlxdWVWaXNpdG9ycyAqIDAuNCkgfSxcbiAgICAgICAgeyBsb2NhdGlvbjogJ1PDo28gUGF1bG8sIFNQJywgdmlzaXRvcnM6IE1hdGguZmxvb3IodW5pcXVlVmlzaXRvcnMgKiAwLjIpIH0sXG4gICAgICAgIHsgbG9jYXRpb246ICdSaW8gZGUgSmFuZWlybywgUkonLCB2aXNpdG9yczogTWF0aC5mbG9vcih1bmlxdWVWaXNpdG9ycyAqIDAuMSkgfSxcbiAgICAgICAgeyBsb2NhdGlvbjogJ0JyYXPDrWxpYSwgREYnLCB2aXNpdG9yczogTWF0aC5mbG9vcih1bmlxdWVWaXNpdG9ycyAqIDAuMDUpIH0sXG4gICAgICAgIHsgbG9jYXRpb246ICdPdXRyb3MnLCB2aXNpdG9yczogTWF0aC5mbG9vcih1bmlxdWVWaXNpdG9ycyAqIDAuMjUpIH1cbiAgICAgIF0sXG4gICAgICB0aW1lT25QYWdlOiB0b3BQYWdlcy5tYXAocGFnZSA9PiAoe1xuICAgICAgICBwYWdlOiBwYWdlLnBhZ2UsXG4gICAgICAgIHRpbWU6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwMCkgKyA2MFxuICAgICAgfSkpLFxuICAgICAgZGFpbHlWaXNpdG9yczogQXJyYXkuZnJvbSh7IGxlbmd0aDogNyB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgZGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSAtICg2IC0gaSkgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXG4gICAgICAgIHZpc2l0b3JzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MCkgKyAyMFxuICAgICAgfSkpLFxuICAgICAgaG91cmx5QWN0aXZpdHk6IEFycmF5LmZyb20oeyBsZW5ndGg6IDI0IH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBob3VyOiBpLFxuICAgICAgICBhY3Rpdml0eTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzApICsgNVxuICAgICAgfSkpXG4gICAgfVxuICB9XG5cbiAgY2xlYXJEYXRhKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpdmVuZGFzX2FuYWx5dGljcycpXG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndml2ZW5kYXNfdXNlcl9pZCcpXG4gICAgfVxuICB9XG59XG5cbi8vIFNpbmdsZXRvbiBpbnN0YW5jZVxuY29uc3QgYW5hbHl0aWNzID0gbmV3IEFuYWx5dGljcygpXG5cbmV4cG9ydCBkZWZhdWx0IGFuYWx5dGljcyAiXSwibmFtZXMiOlsiQW5hbHl0aWNzIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJnZXRVc2VySWQiLCJ1bmRlZmluZWQiLCJ1c2VySWQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsImdldFBhZ2VJbmZvIiwicGFnZSIsInVzZXJBZ2VudCIsInJlZmVycmVyIiwic2NyZWVuU2l6ZSIsImxvY2F0aW9uIiwid2luZG93IiwicGF0aG5hbWUiLCJuYXZpZ2F0b3IiLCJkb2N1bWVudCIsInNjcmVlbiIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0TG9jYXRpb24iLCJ0aW1lem9uZSIsIkludGwiLCJEYXRlVGltZUZvcm1hdCIsInJlc29sdmVkT3B0aW9ucyIsInRpbWVab25lIiwiaW5jbHVkZXMiLCJnZXRVVE1QYXJhbXMiLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZWFyY2giLCJ1dG1Tb3VyY2UiLCJnZXQiLCJ1dG1NZWRpdW0iLCJ1dG1DYW1wYWlnbiIsImdldFVzZXJPcmlnaW4iLCJjcmVhdGVFdmVudCIsInR5cGUiLCJlbGVtZW50IiwiZGF0YSIsInBhZ2VJbmZvIiwidXRtUGFyYW1zIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInNlc3Npb25JZCIsInVzZXJPcmlnaW4iLCJzZW5kRXZlbnQiLCJldmVudCIsImV2ZW50cyIsInB1c2giLCJzdG9yZWRFdmVudHMiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJzbGljZSIsImNvbnNvbGUiLCJsb2ciLCJzaG91bGRUcmFja0NsaWNrIiwibGFzdENsaWNrVGltZSIsImNsaWNrQ29vbGRvd24iLCJnZXRDbGlja1RhcmdldEluZm8iLCJ0YXJnZXQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJjbGFzc05hbWUiLCJpZCIsInRleHQiLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJocmVmIiwiY29udGFjdFR5cGUiLCJjbG9zZXN0IiwiZ2V0QXR0cmlidXRlIiwibWV0aG9kIiwiYWN0aW9uIiwiYnV0dG9uVGV4dCIsImltZ1NyYyIsInNyYyIsImltYWdlIiwiaW5pdCIsImlzSW5pdGlhbGl6ZWQiLCJwYWdldmlldyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY2xpY2tJbmZvIiwiY2xpY2siLCJtYXhTY3JvbGwiLCJzY3JvbGxQZXJjZW50Iiwicm91bmQiLCJzY3JvbGxZIiwiYm9keSIsInNjcm9sbEhlaWdodCIsImlubmVySGVpZ2h0Iiwic2Nyb2xsIiwic2V0SW50ZXJ2YWwiLCJ0aW1lT25QYWdlIiwiZmxvb3IiLCJzdGFydFRpbWUiLCJmb3JtIiwiZm9ybVN1Ym1pdCIsInZpZGVvUGxheSIsImRlcHRoIiwic2Vjb25kcyIsImZvcm1JZCIsInZpZGVvSWQiLCJnYWxsZXJ5VmlldyIsImltYWdlSWQiLCJjb250YWN0Q2xpY2siLCJhZG1pbkFjY2VzcyIsImdldEFuYWx5dGljc0RhdGEiLCJvbmVXZWVrQWdvIiwicmVjZW50RXZlbnRzIiwiZmlsdGVyIiwidW5pcXVlVmlzaXRvcnMiLCJTZXQiLCJtYXAiLCJzaXplIiwicGFnZVZpZXdzIiwibGVuZ3RoIiwiY2xpY2tzIiwiZm9ybVN1Ym1pc3Npb25zIiwiY29udGFjdENsaWNrcyIsInZpZGVvUGxheXMiLCJnYWxsZXJ5Vmlld3MiLCJhZG1pbkFjY2Vzc2VzIiwicGFnZVZpZXdzQnlQYWdlIiwicmVkdWNlIiwiYWNjIiwidG9wUGFnZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwidmlld3MiLCJzb3J0IiwiYSIsImIiLCJpbXBvcnRhbnRDbGlja3MiLCJjbGlja3NCeUVsZW1lbnQiLCJ0b3BDbGlja3MiLCJ1c2VyQWdlbnRzIiwibW9iaWxlQ291bnQiLCJ1YSIsInRlc3QiLCJkZXNrdG9wQ291bnQiLCJkZXZpY2VUeXBlcyIsImRldmljZSIsInBlcmNlbnRhZ2UiLCJ1c2VyT3JpZ2lucyIsInRvcE9yaWdpbnMiLCJvcmlnaW4iLCJjb3VudCIsImNvbnRhY3RNZXRob2RzIiwidG9wQ29udGFjdE1ldGhvZHMiLCJ0b3RhbFZpc2l0b3JzIiwiY2xpY2tFdmVudHMiLCJhdmVyYWdlU2Vzc2lvbkR1cmF0aW9uIiwiYm91bmNlUmF0ZSIsImxvY2F0aW9ucyIsInZpc2l0b3JzIiwidGltZSIsImRhaWx5VmlzaXRvcnMiLCJBcnJheSIsImZyb20iLCJfIiwiaSIsImRhdGUiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiaG91cmx5QWN0aXZpdHkiLCJob3VyIiwiYWN0aXZpdHkiLCJjbGVhckRhdGEiLCJyZW1vdmVJdGVtIiwiY29uc3RydWN0b3IiLCJhbmFseXRpY3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/analytics.ts\n"));

/***/ })

});