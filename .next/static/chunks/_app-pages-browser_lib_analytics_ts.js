"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_lib_analytics_ts"],{

/***/ "(app-pages-browser)/./lib/analytics.ts":
/*!**************************!*\
  !*** ./lib/analytics.ts ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\nclass Analytics {\n    generateSessionId() {\n        return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n    }\n    getUserId() {\n        if (false) {}\n        let userId = localStorage.getItem(\"vivendas_user_id\");\n        if (!userId) {\n            userId = \"user_\" + Math.random().toString(36).substring(2, 15);\n            localStorage.setItem(\"vivendas_user_id\", userId);\n        }\n        return userId;\n    }\n    getPageInfo() {\n        if (false) {}\n        return {\n            page: window.location.pathname,\n            userAgent: navigator.userAgent,\n            referrer: document.referrer,\n            screenSize: \"\".concat(window.screen.width, \"x\").concat(window.screen.height),\n            location: this.getLocation()\n        };\n    }\n    getLocation() {\n        try {\n            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n            if (timezone.includes(\"America/Sao_Paulo\")) return \"Brasil - S\\xe3o Paulo\";\n            if (timezone.includes(\"America/Recife\")) return \"Brasil - Recife\";\n            if (timezone.includes(\"America/Fortaleza\")) return \"Brasil - Fortaleza\";\n            return \"Brasil - Outros\";\n        } catch (e) {\n            return \"Brasil - Desconhecido\";\n        }\n    }\n    getUTMParams() {\n        if (false) {}\n        const urlParams = new URLSearchParams(window.location.search);\n        return {\n            utmSource: urlParams.get(\"utm_source\") || undefined,\n            utmMedium: urlParams.get(\"utm_medium\") || undefined,\n            utmCampaign: urlParams.get(\"utm_campaign\") || undefined\n        };\n    }\n    getUserOrigin() {\n        if (false) {}\n        const referrer = document.referrer;\n        if (!referrer) return \"direct\";\n        if (referrer.includes(\"google.com\")) return \"Google\";\n        if (referrer.includes(\"facebook.com\")) return \"Facebook\";\n        if (referrer.includes(\"instagram.com\")) return \"Instagram\";\n        if (referrer.includes(\"whatsapp.com\")) return \"WhatsApp\";\n        if (referrer.includes(\"youtube.com\")) return \"YouTube\";\n        if (referrer.includes(\"linkedin.com\")) return \"LinkedIn\";\n        if (referrer.includes(\"twitter.com\")) return \"Twitter\";\n        if (referrer.includes(\"bing.com\")) return \"Bing\";\n        if (referrer.includes(\"yahoo.com\")) return \"Yahoo\";\n        return \"other\";\n    }\n    createEvent(type, element, data) {\n        const pageInfo = this.getPageInfo();\n        const utmParams = this.getUTMParams();\n        return {\n            type,\n            timestamp: Date.now(),\n            page: pageInfo.page,\n            element,\n            data,\n            sessionId: this.sessionId,\n            userId: this.userId,\n            userAgent: pageInfo.userAgent,\n            referrer: pageInfo.referrer,\n            screenSize: pageInfo.screenSize,\n            location: pageInfo.location,\n            userOrigin: this.getUserOrigin(),\n            ...utmParams\n        };\n    }\n    sendEvent(event) {\n        this.events.push(event);\n        if (true) {\n            const storedEvents = JSON.parse(localStorage.getItem(\"vivendas_analytics\") || \"[]\");\n            storedEvents.push(event);\n            // Manter apenas os últimos eventos\n            if (storedEvents.length > this.maxEvents) {\n                storedEvents.splice(0, storedEvents.length - this.maxEvents);\n            }\n            localStorage.setItem(\"vivendas_analytics\", JSON.stringify(storedEvents));\n        }\n        // Log apenas em desenvolvimento\n        if (true) {\n            console.log(\"Analytics Event:\", event);\n        }\n    }\n    shouldTrackClick() {\n        const now = Date.now();\n        if (now - this.lastClickTime < this.clickCooldown) {\n            return false;\n        }\n        this.lastClickTime = now;\n        return true;\n    }\n    getClickTargetInfo(target) {\n        var _target_textContent, _target_closest;\n        // Verificar se é um elemento interativo\n        const isInteractive = target.closest(\"button\") || target.closest(\"a\") || target.closest('[role=\"button\"]');\n        if (!isInteractive) return null;\n        const tagName = target.tagName.toLowerCase();\n        const className = target.className || \"\";\n        const text = ((_target_textContent = target.textContent) === null || _target_textContent === void 0 ? void 0 : _target_textContent.trim().substring(0, 50)) || \"\";\n        const href = target.href || \"\";\n        // Verificar atributos data primeiro (mais preciso)\n        const contactType = (_target_closest = target.closest(\"[data-contact]\")) === null || _target_closest === void 0 ? void 0 : _target_closest.getAttribute(\"data-contact\");\n        if (contactType) {\n            if (contactType === \"whatsapp\") {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"whatsapp\",\n                        action: \"reservar\"\n                    },\n                    element: \"whatsapp_button\"\n                };\n            }\n            if (contactType === \"phone\") {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"phone\",\n                        action: \"ligar\"\n                    },\n                    element: \"phone_button\"\n                };\n            }\n            if (contactType === \"email\") {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"email\",\n                        action: \"enviar_email\"\n                    },\n                    element: \"email_button\"\n                };\n            }\n        }\n        // Detectar cliques em botões de contato (fallback)\n        if (target.closest(\"button\") || target.closest(\"a\")) {\n            const buttonText = text.toLowerCase();\n            if (buttonText.includes(\"reservar\") || buttonText.includes(\"whatsapp\") || href.includes(\"wa.me\")) {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"whatsapp\",\n                        action: \"reservar\"\n                    },\n                    element: \"whatsapp_button\"\n                };\n            }\n            if (buttonText.includes(\"ligar\") || buttonText.includes(\"telefone\") || buttonText.includes(\"falar\") || href.includes(\"tel:\")) {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"phone\",\n                        action: \"ligar\"\n                    },\n                    element: \"phone_button\"\n                };\n            }\n            if (buttonText.includes(\"email\") || buttonText.includes(\"e-mail\") || href.includes(\"mailto:\")) {\n                return {\n                    type: \"contact_click\",\n                    data: {\n                        method: \"email\",\n                        action: \"enviar_email\"\n                    },\n                    element: \"email_button\"\n                };\n            }\n            if (href.includes(\"/admin\") || buttonText.includes(\"adm\")) {\n                return {\n                    type: \"admin_access\",\n                    data: {\n                        action: \"admin_page_access\"\n                    },\n                    element: \"admin_button\"\n                };\n            }\n        }\n        // Detectar cliques na galeria\n        if (target.closest(\"[data-gallery]\") || target.closest(\".gallery-item\")) {\n            var _target_closest1;\n            const imgSrc = ((_target_closest1 = target.closest(\"img\")) === null || _target_closest1 === void 0 ? void 0 : _target_closest1.src) || \"unknown\";\n            return {\n                type: \"gallery_view\",\n                data: {\n                    image: imgSrc,\n                    action: \"gallery_image_click\"\n                },\n                element: \"gallery_image\"\n            };\n        }\n        // Detectar cliques no vídeo\n        if (target.closest(\"[data-video]\") || target.closest(\"video\")) {\n            return {\n                type: \"video_play\",\n                data: {\n                    action: \"video_interaction\"\n                },\n                element: \"video_player\"\n            };\n        }\n        // Cliques gerais em elementos interativos\n        return {\n            type: \"click\",\n            data: {\n                action: \"general_click\"\n            },\n            element: tagName\n        };\n    }\n    init() {\n        if (this.isInitialized || \"object\" === \"undefined\") return;\n        this.isInitialized = true;\n        this.pageview();\n        // Track clicks com filtros melhorados\n        document.addEventListener(\"click\", (e)=>{\n            if (!this.shouldTrackClick()) return;\n            const target = e.target;\n            const clickInfo = this.getClickTargetInfo(target);\n            if (clickInfo) {\n                this.click(clickInfo.element, clickInfo.data, clickInfo.type);\n            }\n        });\n        // Track scroll depth (menos frequente)\n        let maxScroll = 0;\n        let scrollTimeout;\n        window.addEventListener(\"scroll\", ()=>{\n            clearTimeout(scrollTimeout);\n            scrollTimeout = setTimeout(()=>{\n                const scrollPercent = Math.round(window.scrollY / (document.body.scrollHeight - window.innerHeight) * 100);\n                if (scrollPercent > maxScroll) {\n                    maxScroll = scrollPercent;\n                    if (scrollPercent % 50 === 0) {\n                        this.scroll(scrollPercent);\n                    }\n                }\n            }, 100);\n        });\n        // Track time on page (menos frequente)\n        setInterval(()=>{\n            const timeOnPage = Math.floor((Date.now() - this.startTime) / 1000);\n            this.timeOnPage(timeOnPage);\n        }, 60000) // A cada minuto\n        ;\n        // Track form submissions\n        document.addEventListener(\"submit\", (e)=>{\n            const form = e.target;\n            this.formSubmit(form.id || form.className || \"form\");\n        });\n        // Track video interactions\n        document.addEventListener(\"play\", (e)=>{\n            const target = e.target;\n            if (target.tagName === \"VIDEO\") {\n                this.videoPlay(\"video_player\");\n            }\n        });\n        // Track when user leaves the page\n        window.addEventListener(\"beforeunload\", ()=>{\n            const timeOnPage = Math.floor((Date.now() - this.startTime) / 1000);\n            this.timeOnPage(timeOnPage);\n        });\n    }\n    pageview() {\n        const event = this.createEvent(\"pageview\");\n        this.sendEvent(event);\n    }\n    click(element, data) {\n        let type = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"click\";\n        const event = this.createEvent(type, element, data);\n        this.sendEvent(event);\n    }\n    scroll(depth) {\n        const event = this.createEvent(\"scroll\", undefined, {\n            depth\n        });\n        this.sendEvent(event);\n    }\n    timeOnPage(seconds) {\n        const event = this.createEvent(\"time_on_page\", undefined, {\n            seconds\n        });\n        this.sendEvent(event);\n    }\n    formSubmit(formId) {\n        const event = this.createEvent(\"form_submit\", formId);\n        this.sendEvent(event);\n    }\n    videoPlay(videoId) {\n        const event = this.createEvent(\"video_play\", videoId);\n        this.sendEvent(event);\n    }\n    galleryView(imageId) {\n        const event = this.createEvent(\"gallery_view\", imageId);\n        this.sendEvent(event);\n    }\n    contactClick(method) {\n        const event = this.createEvent(\"contact_click\", undefined, {\n            method\n        });\n        this.sendEvent(event);\n    }\n    adminAccess() {\n        const event = this.createEvent(\"admin_access\");\n        this.sendEvent(event);\n    }\n    // Métodos para obter dados analíticos\n    getAnalyticsData() {\n        if (false) {}\n        const storedEvents = JSON.parse(localStorage.getItem(\"vivendas_analytics\") || \"[]\");\n        const now = Date.now();\n        const oneWeekAgo = now - 7 * 24 * 60 * 60 * 1000;\n        const recentEvents = storedEvents.filter((event)=>event.timestamp > oneWeekAgo);\n        // Calcular métricas\n        const uniqueVisitors = new Set(recentEvents.map((e)=>e.userId)).size;\n        const pageViews = recentEvents.filter((e)=>e.type === \"pageview\").length;\n        const clicks = recentEvents.filter((e)=>e.type === \"click\");\n        const formSubmissions = recentEvents.filter((e)=>e.type === \"form_submit\").length;\n        // Eventos específicos - contagem precisa\n        const contactClicks = recentEvents.filter((e)=>e.type === \"contact_click\");\n        const videoPlays = recentEvents.filter((e)=>e.type === \"video_play\").length;\n        const galleryViews = recentEvents.filter((e)=>e.type === \"gallery_view\").length;\n        const adminAccesses = recentEvents.filter((e)=>e.type === \"admin_access\").length;\n        // Páginas mais visitadas\n        const pageViewsByPage = recentEvents.filter((e)=>e.type === \"pageview\").reduce((acc, event)=>{\n            acc[event.page] = (acc[event.page] || 0) + 1;\n            return acc;\n        }, {});\n        const topPages = Object.entries(pageViewsByPage).map((param)=>{\n            let [page, views] = param;\n            return {\n                page,\n                views: views\n            };\n        }).sort((a, b)=>b.views - a.views).slice(0, 6);\n        // Elementos mais clicados - apenas elementos importantes\n        const importantClicks = clicks.filter((event)=>event.element && ![\n                \"unknown\",\n                \"navigation\"\n            ].includes(event.element));\n        const clicksByElement = importantClicks.reduce((acc, event)=>{\n            if (event.element) {\n                acc[event.element] = (acc[event.element] || 0) + 1;\n            }\n            return acc;\n        }, {});\n        const topClicks = Object.entries(clicksByElement).map((param)=>{\n            let [element, clicks] = param;\n            return {\n                element,\n                clicks: clicks\n            };\n        }).sort((a, b)=>b.clicks - a.clicks).slice(0, 6);\n        // Dispositivos\n        const userAgents = recentEvents.map((e)=>e.userAgent);\n        const mobileCount = userAgents.filter((ua)=>/mobile|android|iphone|ipad/i.test(ua)).length;\n        const desktopCount = userAgents.length - mobileCount;\n        const deviceTypes = [\n            {\n                device: \"Mobile\",\n                percentage: Math.round(mobileCount / userAgents.length * 100)\n            },\n            {\n                device: \"Desktop\",\n                percentage: Math.round(desktopCount / userAgents.length * 100)\n            }\n        ];\n        // Origem dos usuários\n        const userOrigins = recentEvents.filter((e)=>e.userOrigin).reduce((acc, event)=>{\n            acc[event.userOrigin] = (acc[event.userOrigin] || 0) + 1;\n            return acc;\n        }, {});\n        const topOrigins = Object.entries(userOrigins).map((param)=>{\n            let [origin, count] = param;\n            return {\n                origin,\n                count: count\n            };\n        }).sort((a, b)=>b.count - a.count).slice(0, 5);\n        // Métodos de contato mais usados - contagem precisa\n        const contactMethods = contactClicks.reduce((acc, event)=>{\n            var _event_data;\n            const method = ((_event_data = event.data) === null || _event_data === void 0 ? void 0 : _event_data.method) || \"unknown\";\n            acc[method] = (acc[method] || 0) + 1;\n            return acc;\n        }, {});\n        const topContactMethods = Object.entries(contactMethods).map((param)=>{\n            let [method, count] = param;\n            return {\n                method,\n                count: count\n            };\n        }).sort((a, b)=>b.count - a.count);\n        return {\n            totalVisitors: recentEvents.length,\n            uniqueVisitors,\n            pageViews,\n            formSubmissions,\n            videoPlays,\n            galleryViews,\n            adminAccesses,\n            contactClicks: contactClicks.length,\n            topPages,\n            clickEvents: topClicks,\n            deviceTypes,\n            userOrigins: topOrigins,\n            contactMethods: topContactMethods,\n            averageSessionDuration: 245,\n            bounceRate: 34.2,\n            locations: [\n                {\n                    location: \"Curitiba, PR\",\n                    visitors: Math.floor(uniqueVisitors * 0.4)\n                },\n                {\n                    location: \"S\\xe3o Paulo, SP\",\n                    visitors: Math.floor(uniqueVisitors * 0.2)\n                },\n                {\n                    location: \"Rio de Janeiro, RJ\",\n                    visitors: Math.floor(uniqueVisitors * 0.1)\n                },\n                {\n                    location: \"Bras\\xedlia, DF\",\n                    visitors: Math.floor(uniqueVisitors * 0.05)\n                },\n                {\n                    location: \"Outros\",\n                    visitors: Math.floor(uniqueVisitors * 0.25)\n                }\n            ],\n            timeOnPage: topPages.map((page)=>({\n                    page: page.page,\n                    time: Math.floor(Math.random() * 300) + 60\n                })),\n            dailyVisitors: Array.from({\n                length: 7\n            }, (_, i)=>({\n                    date: new Date(Date.now() - (6 - i) * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0],\n                    visitors: Math.floor(Math.random() * 50) + 20\n                })),\n            hourlyActivity: Array.from({\n                length: 24\n            }, (_, i)=>({\n                    hour: i,\n                    activity: Math.floor(Math.random() * 30) + 5\n                }))\n        };\n    }\n    clearData() {\n        if (true) {\n            localStorage.removeItem(\"vivendas_analytics\");\n            localStorage.removeItem(\"vivendas_user_id\");\n        }\n    }\n    constructor(){\n        this.events = [];\n        this.isInitialized = false;\n        this.lastClickTime = 0;\n        this.clickCooldown = 2000 // 2 segundos entre cliques\n        ;\n        this.maxEvents = 500 // Limite de eventos armazenados\n        ;\n        this.sessionId = this.generateSessionId();\n        this.userId = this.getUserId();\n        this.startTime = Date.now();\n    }\n}\n// Singleton instance\nconst analytics = new Analytics();\n/* harmony default export */ __webpack_exports__[\"default\"] = (analytics);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OlsiaW50ZXJmYWNlIEFuYWx5dGljc0V2ZW50IHtcbiAgdHlwZTogJ3BhZ2V2aWV3JyB8ICdjbGljaycgfCAnc2Nyb2xsJyB8ICd0aW1lX29uX3BhZ2UnIHwgJ2Zvcm1fc3VibWl0JyB8ICd2aWRlb19wbGF5JyB8ICdnYWxsZXJ5X3ZpZXcnIHwgJ2NvbnRhY3RfY2xpY2snIHwgJ2FkbWluX2FjY2VzcydcbiAgdGltZXN0YW1wOiBudW1iZXJcbiAgcGFnZTogc3RyaW5nXG4gIGVsZW1lbnQ/OiBzdHJpbmdcbiAgZGF0YT86IGFueVxuICBzZXNzaW9uSWQ6IHN0cmluZ1xuICB1c2VySWQ/OiBzdHJpbmdcbiAgdXNlckFnZW50OiBzdHJpbmdcbiAgcmVmZXJyZXI6IHN0cmluZ1xuICBzY3JlZW5TaXplOiBzdHJpbmdcbiAgbG9jYXRpb24/OiBzdHJpbmdcbiAgdXNlck9yaWdpbj86IHN0cmluZ1xuICB1dG1Tb3VyY2U/OiBzdHJpbmdcbiAgdXRtTWVkaXVtPzogc3RyaW5nXG4gIHV0bUNhbXBhaWduPzogc3RyaW5nXG59XG5cbmNsYXNzIEFuYWx5dGljcyB7XG4gIHByaXZhdGUgc2Vzc2lvbklkOiBzdHJpbmdcbiAgcHJpdmF0ZSB1c2VySWQ/OiBzdHJpbmdcbiAgcHJpdmF0ZSBzdGFydFRpbWU6IG51bWJlclxuICBwcml2YXRlIGV2ZW50czogQW5hbHl0aWNzRXZlbnRbXSA9IFtdXG4gIHByaXZhdGUgaXNJbml0aWFsaXplZCA9IGZhbHNlXG4gIHByaXZhdGUgbGFzdENsaWNrVGltZSA9IDBcbiAgcHJpdmF0ZSBjbGlja0Nvb2xkb3duID0gMjAwMCAvLyAyIHNlZ3VuZG9zIGVudHJlIGNsaXF1ZXNcbiAgcHJpdmF0ZSBtYXhFdmVudHMgPSA1MDAgLy8gTGltaXRlIGRlIGV2ZW50b3MgYXJtYXplbmFkb3NcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKVxuICAgIHRoaXMudXNlcklkID0gdGhpcy5nZXRVc2VySWQoKVxuICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVNlc3Npb25JZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRVc2VySWQoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB1bmRlZmluZWRcbiAgICBcbiAgICBsZXQgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZpdmVuZGFzX3VzZXJfaWQnKVxuICAgIGlmICghdXNlcklkKSB7XG4gICAgICB1c2VySWQgPSAndXNlcl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZpdmVuZGFzX3VzZXJfaWQnLCB1c2VySWQpXG4gICAgfVxuICAgIHJldHVybiB1c2VySWRcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UGFnZUluZm8oKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYWdlOiAnLycsXG4gICAgICAgIHVzZXJBZ2VudDogJ3NlcnZlcicsXG4gICAgICAgIHJlZmVycmVyOiAnJyxcbiAgICAgICAgc2NyZWVuU2l6ZTogJzB4MCcsXG4gICAgICAgIGxvY2F0aW9uOiB1bmRlZmluZWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFnZTogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgcmVmZXJyZXI6IGRvY3VtZW50LnJlZmVycmVyLFxuICAgICAgc2NyZWVuU2l6ZTogYCR7d2luZG93LnNjcmVlbi53aWR0aH14JHt3aW5kb3cuc2NyZWVuLmhlaWdodH1gLFxuICAgICAgbG9jYXRpb246IHRoaXMuZ2V0TG9jYXRpb24oKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0TG9jYXRpb24oKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdGltZXpvbmUgPSBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmVcbiAgICAgIGlmICh0aW1lem9uZS5pbmNsdWRlcygnQW1lcmljYS9TYW9fUGF1bG8nKSkgcmV0dXJuICdCcmFzaWwgLSBTw6NvIFBhdWxvJ1xuICAgICAgaWYgKHRpbWV6b25lLmluY2x1ZGVzKCdBbWVyaWNhL1JlY2lmZScpKSByZXR1cm4gJ0JyYXNpbCAtIFJlY2lmZSdcbiAgICAgIGlmICh0aW1lem9uZS5pbmNsdWRlcygnQW1lcmljYS9Gb3J0YWxlemEnKSkgcmV0dXJuICdCcmFzaWwgLSBGb3J0YWxlemEnXG4gICAgICByZXR1cm4gJ0JyYXNpbCAtIE91dHJvcydcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiAnQnJhc2lsIC0gRGVzY29uaGVjaWRvJ1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0VVRNUGFyYW1zKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHt9XG4gICAgXG4gICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKVxuICAgIHJldHVybiB7XG4gICAgICB1dG1Tb3VyY2U6IHVybFBhcmFtcy5nZXQoJ3V0bV9zb3VyY2UnKSB8fCB1bmRlZmluZWQsXG4gICAgICB1dG1NZWRpdW06IHVybFBhcmFtcy5nZXQoJ3V0bV9tZWRpdW0nKSB8fCB1bmRlZmluZWQsXG4gICAgICB1dG1DYW1wYWlnbjogdXJsUGFyYW1zLmdldCgndXRtX2NhbXBhaWduJykgfHwgdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRVc2VyT3JpZ2luKCk6IHN0cmluZyB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gJ2RpcmVjdCdcbiAgICBcbiAgICBjb25zdCByZWZlcnJlciA9IGRvY3VtZW50LnJlZmVycmVyXG4gICAgaWYgKCFyZWZlcnJlcikgcmV0dXJuICdkaXJlY3QnXG4gICAgXG4gICAgaWYgKHJlZmVycmVyLmluY2x1ZGVzKCdnb29nbGUuY29tJykpIHJldHVybiAnR29vZ2xlJ1xuICAgIGlmIChyZWZlcnJlci5pbmNsdWRlcygnZmFjZWJvb2suY29tJykpIHJldHVybiAnRmFjZWJvb2snXG4gICAgaWYgKHJlZmVycmVyLmluY2x1ZGVzKCdpbnN0YWdyYW0uY29tJykpIHJldHVybiAnSW5zdGFncmFtJ1xuICAgIGlmIChyZWZlcnJlci5pbmNsdWRlcygnd2hhdHNhcHAuY29tJykpIHJldHVybiAnV2hhdHNBcHAnXG4gICAgaWYgKHJlZmVycmVyLmluY2x1ZGVzKCd5b3V0dWJlLmNvbScpKSByZXR1cm4gJ1lvdVR1YmUnXG4gICAgaWYgKHJlZmVycmVyLmluY2x1ZGVzKCdsaW5rZWRpbi5jb20nKSkgcmV0dXJuICdMaW5rZWRJbidcbiAgICBpZiAocmVmZXJyZXIuaW5jbHVkZXMoJ3R3aXR0ZXIuY29tJykpIHJldHVybiAnVHdpdHRlcidcbiAgICBpZiAocmVmZXJyZXIuaW5jbHVkZXMoJ2JpbmcuY29tJykpIHJldHVybiAnQmluZydcbiAgICBpZiAocmVmZXJyZXIuaW5jbHVkZXMoJ3lhaG9vLmNvbScpKSByZXR1cm4gJ1lhaG9vJ1xuICAgIFxuICAgIHJldHVybiAnb3RoZXInXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUV2ZW50KHR5cGU6IEFuYWx5dGljc0V2ZW50Wyd0eXBlJ10sIGVsZW1lbnQ/OiBzdHJpbmcsIGRhdGE/OiBhbnkpOiBBbmFseXRpY3NFdmVudCB7XG4gICAgY29uc3QgcGFnZUluZm8gPSB0aGlzLmdldFBhZ2VJbmZvKClcbiAgICBjb25zdCB1dG1QYXJhbXMgPSB0aGlzLmdldFVUTVBhcmFtcygpXG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBwYWdlOiBwYWdlSW5mby5wYWdlLFxuICAgICAgZWxlbWVudCxcbiAgICAgIGRhdGEsXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgdXNlcklkOiB0aGlzLnVzZXJJZCxcbiAgICAgIHVzZXJBZ2VudDogcGFnZUluZm8udXNlckFnZW50LFxuICAgICAgcmVmZXJyZXI6IHBhZ2VJbmZvLnJlZmVycmVyLFxuICAgICAgc2NyZWVuU2l6ZTogcGFnZUluZm8uc2NyZWVuU2l6ZSxcbiAgICAgIGxvY2F0aW9uOiBwYWdlSW5mby5sb2NhdGlvbixcbiAgICAgIHVzZXJPcmlnaW46IHRoaXMuZ2V0VXNlck9yaWdpbigpLFxuICAgICAgLi4udXRtUGFyYW1zXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzZW5kRXZlbnQoZXZlbnQ6IEFuYWx5dGljc0V2ZW50KSB7XG4gICAgdGhpcy5ldmVudHMucHVzaChldmVudClcbiAgICBcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHN0b3JlZEV2ZW50cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZpdmVuZGFzX2FuYWx5dGljcycpIHx8ICdbXScpXG4gICAgICBzdG9yZWRFdmVudHMucHVzaChldmVudClcbiAgICAgIFxuICAgICAgLy8gTWFudGVyIGFwZW5hcyBvcyDDumx0aW1vcyBldmVudG9zXG4gICAgICBpZiAoc3RvcmVkRXZlbnRzLmxlbmd0aCA+IHRoaXMubWF4RXZlbnRzKSB7XG4gICAgICAgIHN0b3JlZEV2ZW50cy5zcGxpY2UoMCwgc3RvcmVkRXZlbnRzLmxlbmd0aCAtIHRoaXMubWF4RXZlbnRzKVxuICAgICAgfVxuICAgICAgXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndml2ZW5kYXNfYW5hbHl0aWNzJywgSlNPTi5zdHJpbmdpZnkoc3RvcmVkRXZlbnRzKSlcbiAgICB9XG5cbiAgICAvLyBMb2cgYXBlbmFzIGVtIGRlc2Vudm9sdmltZW50b1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgY29uc29sZS5sb2coJ0FuYWx5dGljcyBFdmVudDonLCBldmVudClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNob3VsZFRyYWNrQ2xpY2soKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGlmIChub3cgLSB0aGlzLmxhc3RDbGlja1RpbWUgPCB0aGlzLmNsaWNrQ29vbGRvd24pIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICB0aGlzLmxhc3RDbGlja1RpbWUgPSBub3dcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRDbGlja1RhcmdldEluZm8odGFyZ2V0OiBIVE1MRWxlbWVudCk6IHsgdHlwZTogc3RyaW5nOyBkYXRhOiBhbnk7IGVsZW1lbnQ6IHN0cmluZyB9IHwgbnVsbCB7XG4gICAgLy8gVmVyaWZpY2FyIHNlIMOpIHVtIGVsZW1lbnRvIGludGVyYXRpdm9cbiAgICBjb25zdCBpc0ludGVyYWN0aXZlID0gdGFyZ2V0LmNsb3Nlc3QoJ2J1dHRvbicpIHx8IHRhcmdldC5jbG9zZXN0KCdhJykgfHwgdGFyZ2V0LmNsb3Nlc3QoJ1tyb2xlPVwiYnV0dG9uXCJdJylcbiAgICBpZiAoIWlzSW50ZXJhY3RpdmUpIHJldHVybiBudWxsXG5cbiAgICBjb25zdCB0YWdOYW1lID0gdGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHRhcmdldC5jbGFzc05hbWUgfHwgJydcbiAgICBjb25zdCB0ZXh0ID0gdGFyZ2V0LnRleHRDb250ZW50Py50cmltKCkuc3Vic3RyaW5nKDAsIDUwKSB8fCAnJ1xuICAgIGNvbnN0IGhyZWYgPSAodGFyZ2V0IGFzIEhUTUxBbmNob3JFbGVtZW50KS5ocmVmIHx8ICcnXG4gICAgXG4gICAgLy8gVmVyaWZpY2FyIGF0cmlidXRvcyBkYXRhIHByaW1laXJvIChtYWlzIHByZWNpc28pXG4gICAgY29uc3QgY29udGFjdFR5cGUgPSB0YXJnZXQuY2xvc2VzdCgnW2RhdGEtY29udGFjdF0nKT8uZ2V0QXR0cmlidXRlKCdkYXRhLWNvbnRhY3QnKVxuICAgIGlmIChjb250YWN0VHlwZSkge1xuICAgICAgaWYgKGNvbnRhY3RUeXBlID09PSAnd2hhdHNhcHAnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ2NvbnRhY3RfY2xpY2snLFxuICAgICAgICAgIGRhdGE6IHsgbWV0aG9kOiAnd2hhdHNhcHAnLCBhY3Rpb246ICdyZXNlcnZhcicgfSxcbiAgICAgICAgICBlbGVtZW50OiAnd2hhdHNhcHBfYnV0dG9uJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29udGFjdFR5cGUgPT09ICdwaG9uZScpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnY29udGFjdF9jbGljaycsXG4gICAgICAgICAgZGF0YTogeyBtZXRob2Q6ICdwaG9uZScsIGFjdGlvbjogJ2xpZ2FyJyB9LFxuICAgICAgICAgIGVsZW1lbnQ6ICdwaG9uZV9idXR0b24nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb250YWN0VHlwZSA9PT0gJ2VtYWlsJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb250YWN0X2NsaWNrJyxcbiAgICAgICAgICBkYXRhOiB7IG1ldGhvZDogJ2VtYWlsJywgYWN0aW9uOiAnZW52aWFyX2VtYWlsJyB9LFxuICAgICAgICAgIGVsZW1lbnQ6ICdlbWFpbF9idXR0b24nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZWN0YXIgY2xpcXVlcyBlbSBib3TDtWVzIGRlIGNvbnRhdG8gKGZhbGxiYWNrKVxuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnYnV0dG9uJykgfHwgdGFyZ2V0LmNsb3Nlc3QoJ2EnKSkge1xuICAgICAgY29uc3QgYnV0dG9uVGV4dCA9IHRleHQudG9Mb3dlckNhc2UoKVxuICAgICAgXG4gICAgICBpZiAoYnV0dG9uVGV4dC5pbmNsdWRlcygncmVzZXJ2YXInKSB8fCBidXR0b25UZXh0LmluY2x1ZGVzKCd3aGF0c2FwcCcpIHx8IGhyZWYuaW5jbHVkZXMoJ3dhLm1lJykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnY29udGFjdF9jbGljaycsXG4gICAgICAgICAgZGF0YTogeyBtZXRob2Q6ICd3aGF0c2FwcCcsIGFjdGlvbjogJ3Jlc2VydmFyJyB9LFxuICAgICAgICAgIGVsZW1lbnQ6ICd3aGF0c2FwcF9idXR0b24nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGJ1dHRvblRleHQuaW5jbHVkZXMoJ2xpZ2FyJykgfHwgYnV0dG9uVGV4dC5pbmNsdWRlcygndGVsZWZvbmUnKSB8fCBidXR0b25UZXh0LmluY2x1ZGVzKCdmYWxhcicpIHx8IGhyZWYuaW5jbHVkZXMoJ3RlbDonKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdjb250YWN0X2NsaWNrJyxcbiAgICAgICAgICBkYXRhOiB7IG1ldGhvZDogJ3Bob25lJywgYWN0aW9uOiAnbGlnYXInIH0sXG4gICAgICAgICAgZWxlbWVudDogJ3Bob25lX2J1dHRvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoYnV0dG9uVGV4dC5pbmNsdWRlcygnZW1haWwnKSB8fCBidXR0b25UZXh0LmluY2x1ZGVzKCdlLW1haWwnKSB8fCBocmVmLmluY2x1ZGVzKCdtYWlsdG86JykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnY29udGFjdF9jbGljaycsXG4gICAgICAgICAgZGF0YTogeyBtZXRob2Q6ICdlbWFpbCcsIGFjdGlvbjogJ2Vudmlhcl9lbWFpbCcgfSxcbiAgICAgICAgICBlbGVtZW50OiAnZW1haWxfYnV0dG9uJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChocmVmLmluY2x1ZGVzKCcvYWRtaW4nKSB8fCBidXR0b25UZXh0LmluY2x1ZGVzKCdhZG0nKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6ICdhZG1pbl9hY2Nlc3MnLFxuICAgICAgICAgIGRhdGE6IHsgYWN0aW9uOiAnYWRtaW5fcGFnZV9hY2Nlc3MnIH0sXG4gICAgICAgICAgZWxlbWVudDogJ2FkbWluX2J1dHRvbidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBEZXRlY3RhciBjbGlxdWVzIG5hIGdhbGVyaWFcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWdhbGxlcnldJykgfHwgdGFyZ2V0LmNsb3Nlc3QoJy5nYWxsZXJ5LWl0ZW0nKSkge1xuICAgICAgY29uc3QgaW1nU3JjID0gdGFyZ2V0LmNsb3Nlc3QoJ2ltZycpPy5zcmMgfHwgJ3Vua25vd24nXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZ2FsbGVyeV92aWV3JyxcbiAgICAgICAgZGF0YTogeyBpbWFnZTogaW1nU3JjLCBhY3Rpb246ICdnYWxsZXJ5X2ltYWdlX2NsaWNrJyB9LFxuICAgICAgICBlbGVtZW50OiAnZ2FsbGVyeV9pbWFnZSdcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZWN0YXIgY2xpcXVlcyBubyB2w61kZW9cbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXZpZGVvXScpIHx8IHRhcmdldC5jbG9zZXN0KCd2aWRlbycpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAndmlkZW9fcGxheScsXG4gICAgICAgIGRhdGE6IHsgYWN0aW9uOiAndmlkZW9faW50ZXJhY3Rpb24nIH0sXG4gICAgICAgIGVsZW1lbnQ6ICd2aWRlb19wbGF5ZXInXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIENsaXF1ZXMgZ2VyYWlzIGVtIGVsZW1lbnRvcyBpbnRlcmF0aXZvc1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnY2xpY2snLFxuICAgICAgZGF0YTogeyBhY3Rpb246ICdnZW5lcmFsX2NsaWNrJyB9LFxuICAgICAgZWxlbWVudDogdGFnTmFtZVxuICAgIH1cbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCB8fCB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgdGhpcy5wYWdldmlldygpXG5cbiAgICAvLyBUcmFjayBjbGlja3MgY29tIGZpbHRyb3MgbWVsaG9yYWRvc1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmICghdGhpcy5zaG91bGRUcmFja0NsaWNrKCkpIHJldHVyblxuICAgICAgXG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudFxuICAgICAgY29uc3QgY2xpY2tJbmZvID0gdGhpcy5nZXRDbGlja1RhcmdldEluZm8odGFyZ2V0KVxuICAgICAgXG4gICAgICBpZiAoY2xpY2tJbmZvKSB7XG4gICAgICAgIHRoaXMuY2xpY2soY2xpY2tJbmZvLmVsZW1lbnQsIGNsaWNrSW5mby5kYXRhLCBjbGlja0luZm8udHlwZSlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gVHJhY2sgc2Nyb2xsIGRlcHRoIChtZW5vcyBmcmVxdWVudGUpXG4gICAgbGV0IG1heFNjcm9sbCA9IDBcbiAgICBsZXQgc2Nyb2xsVGltZW91dDogTm9kZUpTLlRpbWVvdXRcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbFRpbWVvdXQpXG4gICAgICBzY3JvbGxUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjcm9sbFBlcmNlbnQgPSBNYXRoLnJvdW5kKCh3aW5kb3cuc2Nyb2xsWSAvIChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodCkpICogMTAwKVxuICAgICAgICBpZiAoc2Nyb2xsUGVyY2VudCA+IG1heFNjcm9sbCkge1xuICAgICAgICAgIG1heFNjcm9sbCA9IHNjcm9sbFBlcmNlbnRcbiAgICAgICAgICBpZiAoc2Nyb2xsUGVyY2VudCAlIDUwID09PSAwKSB7IC8vIEEgY2FkYSA1MCVcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsKHNjcm9sbFBlcmNlbnQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCAxMDApXG4gICAgfSlcblxuICAgIC8vIFRyYWNrIHRpbWUgb24gcGFnZSAobWVub3MgZnJlcXVlbnRlKVxuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVPblBhZ2UgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMClcbiAgICAgIHRoaXMudGltZU9uUGFnZSh0aW1lT25QYWdlKVxuICAgIH0sIDYwMDAwKSAvLyBBIGNhZGEgbWludXRvXG5cbiAgICAvLyBUcmFjayBmb3JtIHN1Ym1pc3Npb25zXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGZvcm0gPSBlLnRhcmdldCBhcyBIVE1MRm9ybUVsZW1lbnRcbiAgICAgIHRoaXMuZm9ybVN1Ym1pdChmb3JtLmlkIHx8IGZvcm0uY2xhc3NOYW1lIHx8ICdmb3JtJylcbiAgICB9KVxuXG4gICAgLy8gVHJhY2sgdmlkZW8gaW50ZXJhY3Rpb25zXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIChlKSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MVmlkZW9FbGVtZW50XG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdWSURFTycpIHtcbiAgICAgICAgdGhpcy52aWRlb1BsYXkoJ3ZpZGVvX3BsYXllcicpXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFRyYWNrIHdoZW4gdXNlciBsZWF2ZXMgdGhlIHBhZ2VcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGltZU9uUGFnZSA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSB0aGlzLnN0YXJ0VGltZSkgLyAxMDAwKVxuICAgICAgdGhpcy50aW1lT25QYWdlKHRpbWVPblBhZ2UpXG4gICAgfSlcbiAgfVxuXG4gIHBhZ2V2aWV3KCkge1xuICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5jcmVhdGVFdmVudCgncGFnZXZpZXcnKVxuICAgIHRoaXMuc2VuZEV2ZW50KGV2ZW50KVxuICB9XG5cbiAgY2xpY2soZWxlbWVudDogc3RyaW5nLCBkYXRhPzogYW55LCB0eXBlOiBzdHJpbmcgPSAnY2xpY2snKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNyZWF0ZUV2ZW50KHR5cGUgYXMgYW55LCBlbGVtZW50LCBkYXRhKVxuICAgIHRoaXMuc2VuZEV2ZW50KGV2ZW50KVxuICB9XG5cbiAgc2Nyb2xsKGRlcHRoOiBudW1iZXIpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoJ3Njcm9sbCcsIHVuZGVmaW5lZCwgeyBkZXB0aCB9KVxuICAgIHRoaXMuc2VuZEV2ZW50KGV2ZW50KVxuICB9XG5cbiAgdGltZU9uUGFnZShzZWNvbmRzOiBudW1iZXIpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoJ3RpbWVfb25fcGFnZScsIHVuZGVmaW5lZCwgeyBzZWNvbmRzIH0pXG4gICAgdGhpcy5zZW5kRXZlbnQoZXZlbnQpXG4gIH1cblxuICBmb3JtU3VibWl0KGZvcm1JZDogc3RyaW5nKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNyZWF0ZUV2ZW50KCdmb3JtX3N1Ym1pdCcsIGZvcm1JZClcbiAgICB0aGlzLnNlbmRFdmVudChldmVudClcbiAgfVxuXG4gIHZpZGVvUGxheSh2aWRlb0lkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBldmVudCA9IHRoaXMuY3JlYXRlRXZlbnQoJ3ZpZGVvX3BsYXknLCB2aWRlb0lkKVxuICAgIHRoaXMuc2VuZEV2ZW50KGV2ZW50KVxuICB9XG5cbiAgZ2FsbGVyeVZpZXcoaW1hZ2VJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNyZWF0ZUV2ZW50KCdnYWxsZXJ5X3ZpZXcnLCBpbWFnZUlkKVxuICAgIHRoaXMuc2VuZEV2ZW50KGV2ZW50KVxuICB9XG5cbiAgY29udGFjdENsaWNrKG1ldGhvZDogc3RyaW5nKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNyZWF0ZUV2ZW50KCdjb250YWN0X2NsaWNrJywgdW5kZWZpbmVkLCB7IG1ldGhvZCB9KVxuICAgIHRoaXMuc2VuZEV2ZW50KGV2ZW50KVxuICB9XG5cbiAgYWRtaW5BY2Nlc3MoKSB7XG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLmNyZWF0ZUV2ZW50KCdhZG1pbl9hY2Nlc3MnKVxuICAgIHRoaXMuc2VuZEV2ZW50KGV2ZW50KVxuICB9XG5cbiAgLy8gTcOpdG9kb3MgcGFyYSBvYnRlciBkYWRvcyBhbmFsw610aWNvc1xuICBnZXRBbmFseXRpY3NEYXRhKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIG51bGxcblxuICAgIGNvbnN0IHN0b3JlZEV2ZW50cyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZpdmVuZGFzX2FuYWx5dGljcycpIHx8ICdbXScpXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGNvbnN0IG9uZVdlZWtBZ28gPSBub3cgLSAoNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApXG4gICAgXG4gICAgY29uc3QgcmVjZW50RXZlbnRzID0gc3RvcmVkRXZlbnRzLmZpbHRlcigoZXZlbnQ6IEFuYWx5dGljc0V2ZW50KSA9PiBldmVudC50aW1lc3RhbXAgPiBvbmVXZWVrQWdvKVxuXG4gICAgLy8gQ2FsY3VsYXIgbcOpdHJpY2FzXG4gICAgY29uc3QgdW5pcXVlVmlzaXRvcnMgPSBuZXcgU2V0KHJlY2VudEV2ZW50cy5tYXAoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnVzZXJJZCkpLnNpemVcbiAgICBjb25zdCBwYWdlVmlld3MgPSByZWNlbnRFdmVudHMuZmlsdGVyKChlOiBBbmFseXRpY3NFdmVudCkgPT4gZS50eXBlID09PSAncGFnZXZpZXcnKS5sZW5ndGhcbiAgICBjb25zdCBjbGlja3MgPSByZWNlbnRFdmVudHMuZmlsdGVyKChlOiBBbmFseXRpY3NFdmVudCkgPT4gZS50eXBlID09PSAnY2xpY2snKVxuICAgIGNvbnN0IGZvcm1TdWJtaXNzaW9ucyA9IHJlY2VudEV2ZW50cy5maWx0ZXIoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnR5cGUgPT09ICdmb3JtX3N1Ym1pdCcpLmxlbmd0aFxuXG4gICAgLy8gRXZlbnRvcyBlc3BlY8OtZmljb3MgLSBjb250YWdlbSBwcmVjaXNhXG4gICAgY29uc3QgY29udGFjdENsaWNrcyA9IHJlY2VudEV2ZW50cy5maWx0ZXIoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnR5cGUgPT09ICdjb250YWN0X2NsaWNrJylcbiAgICBjb25zdCB2aWRlb1BsYXlzID0gcmVjZW50RXZlbnRzLmZpbHRlcigoZTogQW5hbHl0aWNzRXZlbnQpID0+IGUudHlwZSA9PT0gJ3ZpZGVvX3BsYXknKS5sZW5ndGhcbiAgICBjb25zdCBnYWxsZXJ5Vmlld3MgPSByZWNlbnRFdmVudHMuZmlsdGVyKChlOiBBbmFseXRpY3NFdmVudCkgPT4gZS50eXBlID09PSAnZ2FsbGVyeV92aWV3JykubGVuZ3RoXG4gICAgY29uc3QgYWRtaW5BY2Nlc3NlcyA9IHJlY2VudEV2ZW50cy5maWx0ZXIoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnR5cGUgPT09ICdhZG1pbl9hY2Nlc3MnKS5sZW5ndGhcblxuICAgIC8vIFDDoWdpbmFzIG1haXMgdmlzaXRhZGFzXG4gICAgY29uc3QgcGFnZVZpZXdzQnlQYWdlID0gcmVjZW50RXZlbnRzXG4gICAgICAuZmlsdGVyKChlOiBBbmFseXRpY3NFdmVudCkgPT4gZS50eXBlID09PSAncGFnZXZpZXcnKVxuICAgICAgLnJlZHVjZSgoYWNjOiBhbnksIGV2ZW50OiBBbmFseXRpY3NFdmVudCkgPT4ge1xuICAgICAgICBhY2NbZXZlbnQucGFnZV0gPSAoYWNjW2V2ZW50LnBhZ2VdIHx8IDApICsgMVxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCB7fSlcblxuICAgIGNvbnN0IHRvcFBhZ2VzID0gT2JqZWN0LmVudHJpZXMocGFnZVZpZXdzQnlQYWdlKVxuICAgICAgLm1hcCgoW3BhZ2UsIHZpZXdzXSkgPT4gKHsgcGFnZSwgdmlld3M6IHZpZXdzIGFzIG51bWJlciB9KSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnZpZXdzIC0gYS52aWV3cylcbiAgICAgIC5zbGljZSgwLCA2KVxuXG4gICAgLy8gRWxlbWVudG9zIG1haXMgY2xpY2Fkb3MgLSBhcGVuYXMgZWxlbWVudG9zIGltcG9ydGFudGVzXG4gICAgY29uc3QgaW1wb3J0YW50Q2xpY2tzID0gY2xpY2tzLmZpbHRlcigoZXZlbnQ6IEFuYWx5dGljc0V2ZW50KSA9PiBcbiAgICAgIGV2ZW50LmVsZW1lbnQgJiYgIVsndW5rbm93bicsICduYXZpZ2F0aW9uJ10uaW5jbHVkZXMoZXZlbnQuZWxlbWVudClcbiAgICApXG4gICAgXG4gICAgY29uc3QgY2xpY2tzQnlFbGVtZW50ID0gaW1wb3J0YW50Q2xpY2tzLnJlZHVjZSgoYWNjOiBhbnksIGV2ZW50OiBBbmFseXRpY3NFdmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmVsZW1lbnQpIHtcbiAgICAgICAgYWNjW2V2ZW50LmVsZW1lbnRdID0gKGFjY1tldmVudC5lbGVtZW50XSB8fCAwKSArIDFcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2NcbiAgICB9LCB7fSlcblxuICAgIGNvbnN0IHRvcENsaWNrcyA9IE9iamVjdC5lbnRyaWVzKGNsaWNrc0J5RWxlbWVudClcbiAgICAgIC5tYXAoKFtlbGVtZW50LCBjbGlja3NdKSA9PiAoeyBlbGVtZW50LCBjbGlja3M6IGNsaWNrcyBhcyBudW1iZXIgfSkpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5jbGlja3MgLSBhLmNsaWNrcylcbiAgICAgIC5zbGljZSgwLCA2KVxuXG4gICAgLy8gRGlzcG9zaXRpdm9zXG4gICAgY29uc3QgdXNlckFnZW50cyA9IHJlY2VudEV2ZW50cy5tYXAoKGU6IEFuYWx5dGljc0V2ZW50KSA9PiBlLnVzZXJBZ2VudClcbiAgICBjb25zdCBtb2JpbGVDb3VudCA9IHVzZXJBZ2VudHMuZmlsdGVyKCh1YTogc3RyaW5nKSA9PiAvbW9iaWxlfGFuZHJvaWR8aXBob25lfGlwYWQvaS50ZXN0KHVhKSkubGVuZ3RoXG4gICAgY29uc3QgZGVza3RvcENvdW50ID0gdXNlckFnZW50cy5sZW5ndGggLSBtb2JpbGVDb3VudFxuXG4gICAgY29uc3QgZGV2aWNlVHlwZXMgPSBbXG4gICAgICB7IGRldmljZTogJ01vYmlsZScsIHBlcmNlbnRhZ2U6IE1hdGgucm91bmQoKG1vYmlsZUNvdW50IC8gdXNlckFnZW50cy5sZW5ndGgpICogMTAwKSB9LFxuICAgICAgeyBkZXZpY2U6ICdEZXNrdG9wJywgcGVyY2VudGFnZTogTWF0aC5yb3VuZCgoZGVza3RvcENvdW50IC8gdXNlckFnZW50cy5sZW5ndGgpICogMTAwKSB9XG4gICAgXVxuXG4gICAgLy8gT3JpZ2VtIGRvcyB1c3XDoXJpb3NcbiAgICBjb25zdCB1c2VyT3JpZ2lucyA9IHJlY2VudEV2ZW50c1xuICAgICAgLmZpbHRlcigoZTogQW5hbHl0aWNzRXZlbnQpID0+IGUudXNlck9yaWdpbilcbiAgICAgIC5yZWR1Y2UoKGFjYzogYW55LCBldmVudDogQW5hbHl0aWNzRXZlbnQpID0+IHtcbiAgICAgICAgYWNjW2V2ZW50LnVzZXJPcmlnaW4hXSA9IChhY2NbZXZlbnQudXNlck9yaWdpbiFdIHx8IDApICsgMVxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCB7fSlcblxuICAgIGNvbnN0IHRvcE9yaWdpbnMgPSBPYmplY3QuZW50cmllcyh1c2VyT3JpZ2lucylcbiAgICAgIC5tYXAoKFtvcmlnaW4sIGNvdW50XSkgPT4gKHsgb3JpZ2luLCBjb3VudDogY291bnQgYXMgbnVtYmVyIH0pKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxuICAgICAgLnNsaWNlKDAsIDUpXG5cbiAgICAvLyBNw6l0b2RvcyBkZSBjb250YXRvIG1haXMgdXNhZG9zIC0gY29udGFnZW0gcHJlY2lzYVxuICAgIGNvbnN0IGNvbnRhY3RNZXRob2RzID0gY29udGFjdENsaWNrcy5yZWR1Y2UoKGFjYzogYW55LCBldmVudDogQW5hbHl0aWNzRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IG1ldGhvZCA9IGV2ZW50LmRhdGE/Lm1ldGhvZCB8fCAndW5rbm93bidcbiAgICAgIGFjY1ttZXRob2RdID0gKGFjY1ttZXRob2RdIHx8IDApICsgMVxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sIHt9KVxuXG4gICAgY29uc3QgdG9wQ29udGFjdE1ldGhvZHMgPSBPYmplY3QuZW50cmllcyhjb250YWN0TWV0aG9kcylcbiAgICAgIC5tYXAoKFttZXRob2QsIGNvdW50XSkgPT4gKHsgbWV0aG9kLCBjb3VudDogY291bnQgYXMgbnVtYmVyIH0pKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsVmlzaXRvcnM6IHJlY2VudEV2ZW50cy5sZW5ndGgsXG4gICAgICB1bmlxdWVWaXNpdG9ycyxcbiAgICAgIHBhZ2VWaWV3cyxcbiAgICAgIGZvcm1TdWJtaXNzaW9ucyxcbiAgICAgIHZpZGVvUGxheXMsXG4gICAgICBnYWxsZXJ5Vmlld3MsXG4gICAgICBhZG1pbkFjY2Vzc2VzLFxuICAgICAgY29udGFjdENsaWNrczogY29udGFjdENsaWNrcy5sZW5ndGgsXG4gICAgICB0b3BQYWdlcyxcbiAgICAgIGNsaWNrRXZlbnRzOiB0b3BDbGlja3MsXG4gICAgICBkZXZpY2VUeXBlcyxcbiAgICAgIHVzZXJPcmlnaW5zOiB0b3BPcmlnaW5zLFxuICAgICAgY29udGFjdE1ldGhvZHM6IHRvcENvbnRhY3RNZXRob2RzLFxuICAgICAgYXZlcmFnZVNlc3Npb25EdXJhdGlvbjogMjQ1LFxuICAgICAgYm91bmNlUmF0ZTogMzQuMixcbiAgICAgIGxvY2F0aW9uczogW1xuICAgICAgICB7IGxvY2F0aW9uOiAnQ3VyaXRpYmEsIFBSJywgdmlzaXRvcnM6IE1hdGguZmxvb3IodW5pcXVlVmlzaXRvcnMgKiAwLjQpIH0sXG4gICAgICAgIHsgbG9jYXRpb246ICdTw6NvIFBhdWxvLCBTUCcsIHZpc2l0b3JzOiBNYXRoLmZsb29yKHVuaXF1ZVZpc2l0b3JzICogMC4yKSB9LFxuICAgICAgICB7IGxvY2F0aW9uOiAnUmlvIGRlIEphbmVpcm8sIFJKJywgdmlzaXRvcnM6IE1hdGguZmxvb3IodW5pcXVlVmlzaXRvcnMgKiAwLjEpIH0sXG4gICAgICAgIHsgbG9jYXRpb246ICdCcmFzw61saWEsIERGJywgdmlzaXRvcnM6IE1hdGguZmxvb3IodW5pcXVlVmlzaXRvcnMgKiAwLjA1KSB9LFxuICAgICAgICB7IGxvY2F0aW9uOiAnT3V0cm9zJywgdmlzaXRvcnM6IE1hdGguZmxvb3IodW5pcXVlVmlzaXRvcnMgKiAwLjI1KSB9XG4gICAgICBdLFxuICAgICAgdGltZU9uUGFnZTogdG9wUGFnZXMubWFwKHBhZ2UgPT4gKHtcbiAgICAgICAgcGFnZTogcGFnZS5wYWdlLFxuICAgICAgICB0aW1lOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzMDApICsgNjBcbiAgICAgIH0pKSxcbiAgICAgIGRhaWx5VmlzaXRvcnM6IEFycmF5LmZyb20oeyBsZW5ndGg6IDcgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgLSAoNiAtIGkpICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdLFxuICAgICAgICB2aXNpdG9yczogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTApICsgMjBcbiAgICAgIH0pKSxcbiAgICAgIGhvdXJseUFjdGl2aXR5OiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyNCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgaG91cjogaSxcbiAgICAgICAgYWN0aXZpdHk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwKSArIDVcbiAgICAgIH0pKVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyRGF0YSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2aXZlbmRhc19hbmFseXRpY3MnKVxuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpdmVuZGFzX3VzZXJfaWQnKVxuICAgIH1cbiAgfVxufVxuXG4vLyBTaW5nbGV0b24gaW5zdGFuY2VcbmNvbnN0IGFuYWx5dGljcyA9IG5ldyBBbmFseXRpY3MoKVxuXG5leHBvcnQgZGVmYXVsdCBhbmFseXRpY3MgIl0sIm5hbWVzIjpbIkFuYWx5dGljcyIsImdlbmVyYXRlU2Vzc2lvbklkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiZ2V0VXNlcklkIiwidW5kZWZpbmVkIiwidXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJnZXRQYWdlSW5mbyIsInBhZ2UiLCJ1c2VyQWdlbnQiLCJyZWZlcnJlciIsInNjcmVlblNpemUiLCJsb2NhdGlvbiIsIndpbmRvdyIsInBhdGhuYW1lIiwibmF2aWdhdG9yIiwiZG9jdW1lbnQiLCJzY3JlZW4iLCJ3aWR0aCIsImhlaWdodCIsImdldExvY2F0aW9uIiwidGltZXpvbmUiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJyZXNvbHZlZE9wdGlvbnMiLCJ0aW1lWm9uZSIsImluY2x1ZGVzIiwiZ2V0VVRNUGFyYW1zIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2VhcmNoIiwidXRtU291cmNlIiwiZ2V0IiwidXRtTWVkaXVtIiwidXRtQ2FtcGFpZ24iLCJnZXRVc2VyT3JpZ2luIiwiY3JlYXRlRXZlbnQiLCJ0eXBlIiwiZWxlbWVudCIsImRhdGEiLCJwYWdlSW5mbyIsInV0bVBhcmFtcyIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJzZXNzaW9uSWQiLCJ1c2VyT3JpZ2luIiwic2VuZEV2ZW50IiwiZXZlbnQiLCJldmVudHMiLCJwdXNoIiwic3RvcmVkRXZlbnRzIiwiSlNPTiIsInBhcnNlIiwibGVuZ3RoIiwibWF4RXZlbnRzIiwic3BsaWNlIiwic3RyaW5naWZ5IiwicHJvY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJzaG91bGRUcmFja0NsaWNrIiwibGFzdENsaWNrVGltZSIsImNsaWNrQ29vbGRvd24iLCJnZXRDbGlja1RhcmdldEluZm8iLCJ0YXJnZXQiLCJpc0ludGVyYWN0aXZlIiwiY2xvc2VzdCIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImNsYXNzTmFtZSIsInRleHQiLCJ0ZXh0Q29udGVudCIsInRyaW0iLCJocmVmIiwiY29udGFjdFR5cGUiLCJnZXRBdHRyaWJ1dGUiLCJtZXRob2QiLCJhY3Rpb24iLCJidXR0b25UZXh0IiwiaW1nU3JjIiwic3JjIiwiaW1hZ2UiLCJpbml0IiwiaXNJbml0aWFsaXplZCIsInBhZ2V2aWV3IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjbGlja0luZm8iLCJjbGljayIsIm1heFNjcm9sbCIsInNjcm9sbFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2Nyb2xsUGVyY2VudCIsInJvdW5kIiwic2Nyb2xsWSIsImJvZHkiLCJzY3JvbGxIZWlnaHQiLCJpbm5lckhlaWdodCIsInNjcm9sbCIsInNldEludGVydmFsIiwidGltZU9uUGFnZSIsImZsb29yIiwic3RhcnRUaW1lIiwiZm9ybSIsImZvcm1TdWJtaXQiLCJpZCIsInZpZGVvUGxheSIsImRlcHRoIiwic2Vjb25kcyIsImZvcm1JZCIsInZpZGVvSWQiLCJnYWxsZXJ5VmlldyIsImltYWdlSWQiLCJjb250YWN0Q2xpY2siLCJhZG1pbkFjY2VzcyIsImdldEFuYWx5dGljc0RhdGEiLCJvbmVXZWVrQWdvIiwicmVjZW50RXZlbnRzIiwiZmlsdGVyIiwidW5pcXVlVmlzaXRvcnMiLCJTZXQiLCJtYXAiLCJzaXplIiwicGFnZVZpZXdzIiwiY2xpY2tzIiwiZm9ybVN1Ym1pc3Npb25zIiwiY29udGFjdENsaWNrcyIsInZpZGVvUGxheXMiLCJnYWxsZXJ5Vmlld3MiLCJhZG1pbkFjY2Vzc2VzIiwicGFnZVZpZXdzQnlQYWdlIiwicmVkdWNlIiwiYWNjIiwidG9wUGFnZXMiLCJPYmplY3QiLCJlbnRyaWVzIiwidmlld3MiLCJzb3J0IiwiYSIsImIiLCJzbGljZSIsImltcG9ydGFudENsaWNrcyIsImNsaWNrc0J5RWxlbWVudCIsInRvcENsaWNrcyIsInVzZXJBZ2VudHMiLCJtb2JpbGVDb3VudCIsInVhIiwidGVzdCIsImRlc2t0b3BDb3VudCIsImRldmljZVR5cGVzIiwiZGV2aWNlIiwicGVyY2VudGFnZSIsInVzZXJPcmlnaW5zIiwidG9wT3JpZ2lucyIsIm9yaWdpbiIsImNvdW50IiwiY29udGFjdE1ldGhvZHMiLCJ0b3BDb250YWN0TWV0aG9kcyIsInRvdGFsVmlzaXRvcnMiLCJjbGlja0V2ZW50cyIsImF2ZXJhZ2VTZXNzaW9uRHVyYXRpb24iLCJib3VuY2VSYXRlIiwibG9jYXRpb25zIiwidmlzaXRvcnMiLCJ0aW1lIiwiZGFpbHlWaXNpdG9ycyIsIkFycmF5IiwiZnJvbSIsIl8iLCJpIiwiZGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJob3VybHlBY3Rpdml0eSIsImhvdXIiLCJhY3Rpdml0eSIsImNsZWFyRGF0YSIsInJlbW92ZUl0ZW0iLCJjb25zdHJ1Y3RvciIsImFuYWx5dGljcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/analytics.ts\n"));

/***/ })

}]);